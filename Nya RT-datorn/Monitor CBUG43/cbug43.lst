   1                               NAM    CBUG4.3
   2                       FILCHR  TEXT   $FF       * TA BORT OM ASMB SKA ANV[NDAS
   3                       *
   4                       * EPROM MONITOR OCH TERMINALPROGRAM
   5                       *
   6                       * COPYRIGHT C]-ELEKTRONIK AB
   7                       *           BOX 2010
   8                       *           135 02 TYRES\  SWEDEN
   9                       *
  10                       *
  11                       * AV ]KE HOLM 1983-01-04  :45
  12                       * REV 3 831108
  13                       *
  14                       *
  15                       * COMMANDS IN CBUG4.3
  16                       *
  17                       * @ VARMSTART I FLEX 9.0
  18                       * B DISPLAY BREAKPOINTS
  19                       * C CONTINUE
  20                       * D DUMPA I HEX OCH ASCII 16 BYTES/RAD
  21                       * E EXTENDED INSTRUKTIONSS\KNING
  22                       * F G] TILL MINIDISK-BOOT F\R FLEX 9.0
  23                       * G G] TILL PROGRAMADRESS OCH EXEKVERA
  24                       * H BER[KNA CHECKSUMMA AAAA-BBBB
  25                       * I [NDRA REGISTREN P] ANV[NDARSTACKEN
  26                       * J G] TILL SUBRUTIN OCH SKRIV UT REGISTREN
  27                       * K KOPIERA MINNESINNEH]LL
  28                       * L LADDA FLEX 9.6 FR]N EPROM
  29                       * M MINNESMANIPULERING
  30                       * O FYLL ETT VISST MINNESBLOCK MED EN BYTE
  31                       * PL LADDA FR]N PROMKORT
  32                       * PH BER[KNA CHECKSUMMA P] PROMKORT
  33                       * PR LOOP P] PROMKORT
  34                       * Q M[T RAM-STORLEKEN
  35                       * R PRINTA REGISTREN
  36                       * S S\K 2 BYTES ADRESS
  37                       * U TA BORT BREAKPOINTS
  38                       * V S[TT IN BREAKPOINTS MAX 5 ST
  39                       * W MINNESTEST
  40                       * Y VERIFIERING
  41                       * Z DUMPA I HEX OCH ASCII 16 BYTES/RAD P] PRINTERN
  42                       *
  43                       *
  44                       ****************************************
  45                       *
  46                       * PORTAR OCH PERIFERIKRETSAR
  47                       *
  48                       ****************************************
  49                       *
  50                       * KORT C]-813B
  51                       *
  52  E000                 PCIDR   EQU    $E000     SERIEKRETS 2651
  53  E001                 PCISR   EQU    $E001
  54  E002                 PCIMR   EQU    $E002
  55  E003                 PCICR   EQU    $E003
  56                       *
  57  E008                 KLOCKA  EQU    $E008
  58                       *   PA0-3 UT ADRESSVAL
  59                       *   PA7   UT 1=READ
  60                       * $E009  CA2   HOLD
  61                       * $E00A  PB0-3 IN (UT) DATA
  62                       * $E00B  CB1 IN INTERRUPT 1/60 HZ
  63                       *        CB2 UT WRITE
  64                       *
  65  E00C                 PRIPIA  EQU    $E00C     PIA F\R PRINTER
  66                       *
  67                       * KORT C]-817
  68                       *
  69  E010                 FLOPPY  EQU    $E010
  70  E018                 COMREG  EQU    $E018
  71                       *
  72                       * KORT C]-816
  73                       *
  74  E0B0                 EPROM0  EQU    $E0B0
  75                       *
  76                       * KORT C]-815 TERMINAL
  77                       *
  78  E0F8                 CRTREG  EQU    $E0F8
  79  E0F9                 CRTC    EQU    $E0F9
  80  E0FC                 PIAKBD  EQU    $E0FC
  81  E0FD                 PIAKBC  EQU    PIAKBD+1
  82  E0FE                 PIAKD   EQU    PIAKBD+2
  83  E0FF                 PIAKC   EQU    PIAKBD+3
  84                       *
  85                       *
  86  0085                 SKIP1   EQU    $85       SKIPPAR 1 INSTRUKTION
  87  008C                 SKIP2   EQU    $8C       SKIPPAR 2 BYTE INSTR
  88  E100                 E100    EQU    $E100
  89  F000                 F000    EQU    $F000
  90                       *
  91                       ****************************************
  92                       *
  93                       * RAM F\R VARIABLER OCH STACK
  94                       *
  95                       ****************************************
  96                       *
  97  E3FF                 STACK   EQU    $E100+$2FF
  98                       *
  99                               ORG    E100
 100                       *
 101                       * PSEUDOSTACK
 102                       *
 103  E100                 STRAD   RMB    1
 104  E101                 SIRQR   RMB    2         IRQ VEKTOR
 105  E103                 SWI1R   RMB    2
 106  E105                 SWI2R   RMB    2
 107  E107                 SWI3R   RMB    2
 108  E109                 USECC   RMB    1
 109  E10A                 USEA    RMB    1
 110  E10B                 USEB    RMB    1
 111  E10C                 USEDP   RMB    1
 112  E10D                 USEX    RMB    2
 113  E10F                 USEY    RMB    2
 114  E111                 USEU    RMB    2
 115  E113                 USEPC   RMB    2
 116  E115                 USESP   RMB    2         USER STACKPOINTER VALUE
 117  E117                 SLASK   RMB    2
 118                       *
 119  E119                 VFLAG   RMB    1         NUMBER OF BREAKPOINTS
 120  E11A                 BPTAB   RMB    15        TABELL F\R BREAKPOINTS
 121  E129                 BYTECT  RMB    1         LOAD & PUNCH
 122  E12A                 MCONT   RMB    1
 123  E12B                 TEMP    RMB    2         TEMP MEMORY
 124  E12D                 BEGA    RMB    2         STARTADRESS VID DUMP MM
 125  E12F                 ENDA    RMB    2         STOPPADRESS VID DUMP MM
 126  E131                 TILL    RMB    2         HJ[LPCELL VID KOP VER OCHMEM CHG
 127  E133                 CKTMP   RMB    2
 128  E135                 PEKARE  RMB    2         AKTUELL LEDIG BILDPOSITION
 129  E137                 PIXBEG  RMB    2         START AV VIDEOMINNE
 130  E139                 CURPOS  RMB    2         ADRESS F\R CURSORN
 131  E13B                 ROLADR  RMB    2         STARTADRESS VID SCROLL
 132  E13D                 CURTMP  RMB    2
 133  E13F                 PEKTMP  RMB    2
 134  E141                 PIXEND  RMB    2         SISTA POS AV VIDEOMINNET
 135  E143                 CURRAM  RMB    2
 136  E145                 TTEMMP  RMB    2         XTEMP
 137  E147                 POSPEK  RMB    2         NY PEKARE VID CURSORPOS
 138  E149                 ALFLOK  RMB    1         ALFA LOCK FLAGGA
 139                       *
 140  E14A                 TERAMA  EQU    *
 141  E14A                 HPOS    RMB    1         HORISONTALPOSITION 0-39
 142  E14B                 PRIFLG  RMB    1         OUT TO PRINTER
 143  E14C                 EXCFLG  RMB    1         FLAGGA F\R SPECIALBOKST[VER
 144  E14D                 CURFLG  RMB    1         FLAGGA F\R CURSOR
 145  E14E                 ROLFLG  RMB    1         O= SCROLL EJ B\RJAT
 146  E14F                 CURPFL  RMB    1
 147  E150                 ESCFLG  RMB    1
 148  E151                 CUSFLG  RMB    1
 149  E152                 PAGFLG  RMB    1
 150  E153                 HPOSTM  RMB    1
 151  E154                 TERAMZ  EQU    *
 152                       *
 153  E800                 PIX     EQU    $E800
 154  EFFF                 PIXSLU  EQU    $EFFF
 155  0018                 RADER   EQU    24
 156                       *
 157                               ORG    F000
 158                       *
 159  F000 7EF346          INKEY   JMP    INKEY0
 160  F003 7EF33D          INCHK   JMP    INCHK0
 161  F006 7EF01E          OUTCRT  JMP    OUTCR0
 162  F009 7EF886          INCHA   JMP    INCHA0    ONLY VERSALER
 163  F00C 7EF82D          MONITOR JMP    CONTRL
 164  F00F 7EF969                  JMP    PDATA
 165  F012 7EF91B                  JMP    OUT2HS
 166  F015 7EF919                  JMP    OUT4HS
 167  F018 7EF95E                  JMP    PCRLF
 168  F01B 7EF93E                  JMP    PRIOUT
 169                       *
 170                       ****************************************
 171                       * LIB 1.C815TERM
 172                       *
 173                       * --------------
 174                       * REV 16 831108 ]H
 175                       *
 176                       ****************************************
 177  0050                 LLENGD  EQU    80
 178                       *
 179  F01E 4D              OUTCR0  TSTA             IGNORE NULLS
 180  F01F 2601                    BNE    OUTCR1
 181  F021 39                      RTS
 182                       *
 183  F022 3476            OUTCR1  PSHS   A,B,X,U,Y SAVE INHOPPSADRESS
 184  F024 F6E14A                  LDB    HPOS
 185  F027 FEE139                  LDU    CURPOS
 186  F02A 7DE14F                  TST    CURPFL    CURSORPOS ?
 187  F02D 2705                    BEQ    OUT10
 188  F02F 1702AE                  LBSR   POS500    COLUMN ADRESS
 189  F032 202D                    BRA    OUT090
 190                       *
 191                       *
 192  F034 7DE150          OUT10   TST    ESCFLG    VAR F\REG ESCAPE
 193  F037 2711                    BEQ    OUT18
 194  F039 7FE150                  CLR    ESCFLG
 195  F03C 8140                    CMPA   #$40      OM ST\RRE = RADADRESS
 196  F03E 2505                    BLO    OUT15
 197  F040 170281                  LBSR   POS100
 198  F043 201C                    BRA    OUT090
 199                       *
 200  F045 8EF379          OUT15   LDX    #INTABE   ESCAPETABELL
 201  F048 2006                    BRA    OUT22
 202                       *
 203  F04A 7DE152          OUT18   TST    PAGFLG
 204  F04D 8EF3A0          OUT20   LDX    #INTAB
 205  F050 A184            OUT22   CMPA   ,X
 206  F052 2712                    BEQ    OUT30
 207  F054 3003                    LEAX   3,X
 208  F056 8CF3AF                  CMPX   #INTBND
 209  F059 26F5                    BNE    OUT22
 210  F05B 8120                    CMPA   #$20      SYNLIGT TECKEN ?
 211  F05D 2505                    BLO    OUT095
 212  F05F 8D0A                    BSR    OUT70
 213  F061 170124          OUT090  LBSR   DISCUR    DISPLAY CURSOR
 214  F064 35F6            OUT095  PULS   A,B,X,U,Y,PC
 215                       *
 216  F066 AD9801          OUT30   JSR    [1,X]     SUB F\R SPECIALARE
 217  F069 20F6                    BRA    OUT090
 218                       *
 219                       *
 220  F06B 7DE14C          OUT70   TST    EXCFLG
 221  F06E 2611                    BNE    OUT160
 222  F070 8EF363          OUT71   LDX    #EXCHTB   EXCHANGE TABELL F\R ][\ MM
 223  F073 A184            OUT110  CMPA   ,X        MATCH ?
 224  F075 2708                    BEQ    OUT150
 225  F077 3002                    LEAX   2,X       N[STA
 226  F079 8CF379                  CMPX   #EXTBND   SLUT P] TABELL ?
 227  F07C 26F5                    BNE    OUT110
 228  F07E 8C                      FCB    SKIP2
 229                       *
 230  F07F A601            OUT150  LDA    1,X       H[MTA NY KOD
 231  F081 3341            OUT160  LEAU   1,U       N[STA POSITION
 232  F083 FFE139                  STU    CURPOS
 233  F086 BEE135                  LDX    PEKARE
 234  F089 A780            OUT165  STA    0,X+      LAGRA P] SK[RMEN
 235  F08B 8CF000          OUT167  CMPX   #PIXSLU+1
 236  F08E 2603                    BNE    OUT170
 237  F090 8EE800                  LDX    #PIX
 238  F093 BFE135          OUT170  STX    PEKARE
 239  F096 5C                      INCB             N[STA HORISONTALPOS
 240  F097 C150                    CMPB   #LLENGD   SLUT P] RADEN
 241  F099 261F                    BNE    OUT200
 242  F09B 7FE14A                  CLR    HPOS
 243  F09E 7DE152                  TST    PAGFLG
 244  F0A1 2710                    BEQ    OUT180
 245  F0A3 BCE141                  CMPX   PIXEND
 246  F0A6 260B                    BNE    OUT180
 247  F0A8 FEE139                  LDU    CURPOS
 248  F0AB 33C8B0                  LEAU   -LLENGD,U
 249  F0AE FFE139                  STU    CURPOS
 250  F0B1 200F                    BRA    OUT280
 251                       *
 252  F0B3 7DE14E          OUT180  TST    ROLFLG
 253  F0B6 2705                    BEQ    OUT250
 254  F0B8 200B                    BRA    OUT300
 255                       *
 256  F0BA F7E14A          OUT200  STB    HPOS
 257  F0BD BCE141          OUT250  CMPX   PIXEND    SLUT P] BILDEN ?
 258  F0C0 2664                    BNE    OUT900
 259                       *
 260                       * UTANF\R BILDEN SCROLLA !
 261                       *
 262  F0C2 B7E14E          OUT280  STA    ROLFLG
 263  F0C5 1700D0          OUT300  LBSR   SCROLL
 264  F0C8 108E0050                LDY    #LLENGD   RADERA EN RAD
 265  F0CC 1700FC                  LBSR   ERAS20
 266  F0CF 7DE152                  TST    PAGFLG
 267  F0D2 2603                    BNE    OUT309
 268  F0D4 BFE141                  STX    PIXEND    NYTT V[RDE
 269  F0D7 39              OUT309  RTS
 270                       *
 271  F0D8 7DE152          LFEED   TST    PAGFLG    SIDMODE ?
 272  F0DB 270E                    BEQ    LFED01    NIX
 273  F0DD 33C850                  LEAU   LLENGD,U
 274  F0E0 11B3E141                CMPU   PIXEND
 275  F0E4 250D                    BLO    LFED08
 276  F0E6 33C8B0                  LEAU   -LLENGD,U
 277  F0E9 2008                    BRA    LFED08
 278                       *
 279  F0EB 7DE14E          LFED01  TST    ROLFLG
 280  F0EE 2700                    BEQ    LFED02
 281  F0F0 33C850          LFED02  LEAU   LLENGD,U  INCREMENT CURSOR
 282  F0F3 FFE139          LFED08  STU    CURPOS
 283  F0F6 BEE135                  LDX    PEKARE
 284  F0F9 C650                    LDB    #LLENGD
 285  F0FB 3001            LFED12  LEAX   1,X       INCR PEKARE
 286  F0FD 8CF000                  CMPX   #PIXSLU+1
 287  F100 2603                    BNE    LFED14
 288  F102 8EE800                  LDX    #PIX
 289  F105 BCE141          LFED14  CMPX   PIXEND
 290  F108 2619                    BNE    LFED16
 291  F10A 7DE152                  TST    PAGFLG    PAGEMOD ?
 292  F10D 270C                    BEQ    LFED15
 293  F10F 3410                    PSHS   X
 294  F111 170097                  LBSR   SCRL50
 295  F114 3510                    PULS   X
 296  F116 3088B0                  LEAX   -LLENGD,X
 297  F119 2008                    BRA    LFED16
 298                       *
 299  F11B 3414            LFED15  PSHS   B,X
 300  F11D 8D07                    BSR    OUT900    SCROLLA
 301  F11F 8DA1                    BSR    OUT280
 302  F121 3514                    PULS   B,X
 303  F123 5A              LFED16  DECB
 304  F124 26D5                    BNE    LFED12
 305  F126 BFE135          OUT900  STX    PEKARE    SPARA POSITIONEN
 306  F129 39              OUT990  RTS
 307                       *
 308  F12A BEE135          CARR    LDX    PEKARE
 309  F12D 5D                      TSTB             KOLLA OM REDAN I V[NSTERKANTEN
 310  F12E 2719                    BEQ    CAR100
 311  F130 3404                    PSHS   B         SPARA HPOS
 312  F132 335F            CARR20  LEAU   -1,U      DECREMENT CURPOS
 313  F134 5A                      DECB             B G]NGER
 314  F135 26FB                    BNE    CARR20
 315  F137 FFE139                  STU    CURPOS
 316  F13A 3504                    PULS   B         ]TERTAG HPOS
 317  F13C 301F            CARR30  LEAX   -1,X      BACKA TILL V[NSTERKANTEN
 318  F13E 8CE7FF                  CMPX   #PIX-1
 319  F141 2603                    BNE    CARR50
 320  F143 8EEFFF                  LDX    #PIXSLU
 321  F146 5A              CARR50  DECB
 322  F147 26F3                    BNE    CARR30
 323  F149 F7E14A          CAR100  STB    HPOS
 324  F14C 20D8            CAR900  BRA    OUT900
 325                       *
 326                       *
 327  F14E BEE135          BACKSP  LDX    PEKARE
 328  F151 8620                    LDA    #$20      SPACEKOD
 329  F153 A782            BACK10  STA    0,-X
 330  F155 335F            BACK12  LEAU   -1,U      DECREMENT CURSOR
 331  F157 FFE139                  STU    CURPOS
 332  F15A 5A                      DECB
 333  F15B 2B03                    BMI    BACK70
 334  F15D 16FF5A                  LBRA   OUT200
 335                       *
 336  F160 C64F            BACK70  LDB    #LLENGD-1 NOLLA HPOS
 337  F162 F7E14A                  STB    HPOS
 338  F165 7FE14E                  CLR    ROLFLG
 339  F168 BFE135                  STX    PEKARE
 340  F16B BEE137                  LDX    PIXBEG
 341  F16E 301F                    LEAX   -1,X
 342  F170 BCE135                  CMPX   PEKARE
 343  F173 2612                    BNE    BELRTS    EJ F\R L]NGT BAK]T
 344  F175 BEE141                  LDX    PIXEND
 345  F178 BFE139                  STX    CURPOS
 346  F17B 20CF                    BRA    CAR900
 347                       *
 348                       *
 349  F17D 8634            BELL00  LDA    #$34
 350  F17F B7E0FD                  STA    PIAKBC
 351  F182 863C                    LDA    #$3C
 352  F184 B7E0FD                  STA    PIAKBC
 353  F187 39              BELRTS  RTS
 354                       *
 355  F188 CEE139          DISCUR  LDU    #CURPOS
 356  F18B 860E                    LDA    #14       REGISTER NR
 357  F18D E6C0            DISCU5  LDB    0,U+      GET CURSOR POSITION
 358                       *
 359                       * LAGRA I CRTC
 360                       *
 361  F18F 8D03            STOCRT  BSR    STDCRT
 362  F191 4C                      INCA
 363  F192 E6C4                    LDB    ,U        GET ADRESS FROM RAM
 364  F194 FDE0F8          STDCRT  STD    CRTREG
 365  F197 39                      RTS
 366                       *
 367  F198 7DE152          SCROLL  TST    PAGFLG
 368  F19B 260E                    BNE    SCRL50    INDEXFIX OM PAGE-MOD
 369  F19D CEE137                  LDU    #PIXBEG
 370  F1A0 AEC4                    LDX    ,U
 371  F1A2 308850                  LEAX   LLENGD,X
 372  F1A5 AFC4                    STX    ,U        STORE NEW STARTADRESS
 373  F1A7 860C            STOPIX  LDA    #12
 374  F1A9 20E2                    BRA    DISCU5
 375                       *
 376  F1AB BEE13B          SCRL50  LDX    ROLADR    H[MTA START AV PIX
 377  F1AE A68850          SCRL60  LDA    LLENGD,X
 378  F1B1 A780                    STA    0,X+
 379  F1B3 BCE141                  CMPX   PIXEND
 380  F1B6 26F6                    BNE    SCRL60
 381  F1B8 3088B0                  LEAX   -LLENGD,X
 382  F1BB 108E0050                LDY    #LLENGD
 383  F1BF 2007                    BRA    ERAS10
 384                       *
 385                       *
 386  F1C1 108E0800        ERASE   LDY    #$800     ANTAL TECKEN P] SK[RMEN
 387  F1C5 8EE800                  LDX    #PIX      B\RJAN AV MINNET
 388  F1C8 BFE135          ERAS10  STX    PEKARE
 389  F1CB BEE135          ERAS20  LDX    PEKARE    H[MTA ADRESS
 390  F1CE 8620            ERAS50  LDA    #$20      SPACEKOD
 391  F1D0 A780            ERA100  STA    0,X+      L[GG UT
 392  F1D2 8CF000                  CMPX   #PIXSLU+1 UTANF\R MINNET ?
 393  F1D5 2603                    BNE    ERA200
 394  F1D7 8EE800                  LDX    #PIX      B\RJA FR]N B\RJAN
 395  F1DA 313F            ERA200  LEAY   -1,Y      DECREMENTA ANTALET
 396  F1DC 26F2                    BNE    ERA100
 397  F1DE 39                      RTS
 398                       *
 399  F1DF BEE135          EROLIN  LDX    PEKARE
 400  F1E2 8620                    LDA    #$20      SPACE
 401  F1E4 A780            EROLI5  STA    0,X+
 402  F1E6 5C                      INCB             SLUT P] RAD
 403  F1E7 C150                    CMPB   #LLENGD
 404  F1E9 26F9                    BNE    EROLI5
 405  F1EB 39                      RTS
 406                       *
 407  F1EC B7E152          PAGE    STA    PAGFLG
 408                       *
 409  F1EF 8EE800          RESPIX  LDX    #PIX      ]TERST[LL BILDEN
 410  F1F2 C606                    LDB    #6
 411  F1F4 CEE135                  LDU    #PEKARE
 412  F1F7 AFC1            RPIX10  STX    0,U++
 413  F1F9 5A                      DECB
 414  F1FA 26FB                    BNE    RPIX10
 415  F1FC 8618                    LDA    #RADER    FIXA PIXEND
 416  F1FE 308850          RPIX20  LEAX   LLENGD,X
 417  F201 4A                      DECA
 418  F202 26FA                    BNE    RPIX20
 419  F204 BFE141                  STX    PIXEND    INNEH]LLER NU PIXEND+1920
 420  F207 CEE137                  LDU    #PIXBEG
 421  F20A 8D9B                    BSR    STOPIX
 422  F20C 108E0800                LDY    #2048
 423  F210 8DB9                    BSR    ERAS20
 424  F212 8EE14A                  LDX    #TERAMA
 425  F215 6F80            RPIX70  CLR    0,X+
 426  F217 8CE154                  CMPX   #TERAMZ
 427  F21A 26F9                    BNE    RPIX70
 428  F21C 39                      RTS
 429                       *
 430  F21D                 CURLFT  EQU    *
 431  F21D BEE135                  LDX    PEKARE
 432  F220 301F                    LEAX   -1,X
 433  F222 7EF155                  JMP    BACK12
 434                       *
 435  F225                 CURRIG   EQU   *
 436  F225 BEE135                  LDX    PEKARE
 437  F228 3001                    LEAX   1,X
 438  F22A 3341                    LEAU   1,U
 439  F22C FFE139                  STU    CURPOS
 440  F22F 7EF08B                  JMP    OUT167
 441                       *
 442  F232                 CURNER  EQU    *
 443  F232 BEE135                  LDX    PEKARE
 444  F235 33C850                  LEAU   LLENGD,U
 445  F238 11B3E141                CMPU   PIXEND
 446  F23C 2503                    BLO    CURN10
 447  F23E 33C8B0                  LEAU   -LLENGD,U
 448  F241 308850          CURN10  LEAX   LLENGD,X
 449  F244 BCE141                  CMPX   PIXEND
 450  F247 2503                    BLO    CURN20
 451  F249 3088B0                  LEAX   -LLENGD,X
 452  F24C FFE139          CURN20  STU    CURPOS
 453  F24F BFE135                  STX    PEKARE
 454  F252 39                      RTS
 455                       *
 456  F253                 CURUPP  EQU    *
 457  F253 BEE135                  LDX    PEKARE
 458  F256 3088B0                  LEAX   -LLENGD,X
 459  F259 BCE137                  CMPX   PIXBEG
 460  F25C 2203                    BHI    CURU10
 461  F25E 308850                  LEAX   LLENGD,X
 462  F261 33C8B0          CURU10  LEAU   -LLENGD,U
 463  F264 11B3E137                CMPU   PIXBEG
 464  F268 2203                    BHI    CURU20
 465  F26A 33C850                  LEAU   LLENGD,U
 466  F26D 39              CURU20  RTS
 467                       *
 468  F26E                 CURHOM  EQU    *
 469  F26E BEE137                  LDX    PIXBEG
 470  F271 BFE135                  STX    PEKARE
 471  F274 BFE139                  STX    CURPOS
 472  F277 39                      RTS
 473                       *
 474                       *
 475  F278 B7E150          SETESC  STA    ESCFLG
 476  F27B 39                      RTS
 477                       *
 478  F27C 7FE14C          BYTJO   CLR    EXCFLG
 479  F27F 39                      RTS
 480                       *
 481  F280 B7E14C          BYTNEJ  STA    EXCFLG
 482  F283 39                      RTS
 483                       *
 484  F284 CC0A20          CUROFF  LDD    #$0A20
 485  F287 FDE0F8          CUR099  STD    CRTREG
 486  F28A 39                      RTS
 487                       *
 488  F28B CC0A00          CURON1  LDD    #$0A00    T[ND
 489  F28E 2008                    BRA    CUR089
 490                       *
 491  F290 CC0A40          CURON2  LDD    #$0A40    FAST BLINK
 492  F293 2003                    BRA    CUR089
 493                       *
 494  F295 CC0A60          CURON3  LDD    #$0A60    SLOW BLINK
 495  F298 FDE143          CUR089  STD    CURRAM
 496  F29B 20EA                    BRA    CUR099
 497                       *
 498  F29D 8DE5            SAVEBL  BSR    CUROFF
 499                       *
 500  F29F BEE135          SAVEPO  LDX    PEKARE
 501  F2A2 BFE13F                  STX    PEKTMP
 502  F2A5 F7E153                  STB    HPOSTM
 503  F2A8 FFE13D                  STU    CURTMP
 504  F2AB 39                      RTS
 505                       *
 506  F2AC FCE143          RESTON  LDD    CURRAM
 507  F2AF 8DD6                    BSR    CUR099
 508                       *
 509  F2B1 BEE13D          RESTOR  LDX    CURTMP
 510  F2B4 BFE139                  STX    CURPOS
 511  F2B7 BEE13F                  LDX    PEKTMP
 512  F2BA BFE135                  STX    PEKARE
 513  F2BD F6E153                  LDB    HPOSTM
 514  F2C0 F7E14A                  STB    HPOS
 515  F2C3 39                      RTS
 516                       *
 517                       * CURSOR POSITIONERING
 518                       *
 519  F2C4 B7E14F          POS100  STA    CURPFL
 520  F2C7 B7F1EC                  STA    PAGE
 521  F2CA 8040                    SUBA   #$40
 522  F2CC 8117                    CMPA   #RADER-1
 523  F2CE 220F                    BHI    POS197
 524  F2D0 8EE800                  LDX    #PIX
 525  F2D3 4D              POS120  TSTA             RAD NOLL ?
 526  F2D4 2706                    BEQ    POS190
 527  F2D6 308850          POS130  LEAX   LLENGD,X  N[STA RAD
 528  F2D9 4A                      DECA
 529  F2DA 26FA                    BNE    POS130
 530  F2DC BFE147          POS190  STX    POSPEK
 531  F2DF 39              POS197  RTS
 532                       *
 533  F2E0 7FE14F          POS500  CLR    CURPFL
 534  F2E3 8030                    SUBA   #$30
 535  F2E5 8150                    CMPA   #LLENGD
 536  F2E7 240E                    BHS    POS900
 537  F2E9 B7E14A                  STA    HPOS
 538  F2EC BEE147                  LDX    POSPEK
 539  F2EF 3086                    LEAX   A,X
 540  F2F1 BFE135                  STX    PEKARE
 541  F2F4 BFE139          POS800  STX    CURPOS
 542  F2F7 39              POS900  RTS
 543                       *
 544  F2F8 7FE152          ROLMOD  CLR    PAGFLG
 545  F2FB 39                      RTS
 546                       *
 547                       *
 548  F2FC 8EE800          STRECK  LDX    #PIX
 549  F2FF B6E100                  LDA    STRAD
 550  F302 3402                    PSHS   A
 551  F304 8407                    ANDA   #7
 552  F306 4D                      TSTA
 553  F307 270F                    BEQ    STRE40
 554  F309 308850          STRE20  LEAX   LLENGD,X
 555  F30C 4A                      DECA
 556  F30D 26FA                    BNE    STRE20
 557  F30F C650                    LDB    #LLENGD
 558  F311 862D                    LDA    #'-
 559  F313 A780            STRE30  STA    0,X+
 560  F315 5A                      DECB
 561  F316 26FB                    BNE    STRE30
 562  F318 BFE135          STRE40  STX    PEKARE
 563  F31B BFE13B                  STX    ROLADR
 564  F31E BFE139                  STX    CURPOS
 565  F321 7FE14A                  CLR    HPOS
 566  F324 B7E152                  STA    PAGFLG
 567  F327 3502                    PULS   A
 568  F329 44                      LSRA
 569  F32A 44                      LSRA
 570  F32B 44                      LSRA
 571  F32C 44                      LSRA
 572  F32D 4D                      TSTA
 573  F32E 270C                    BEQ    STRRTS
 574  F330 BEE141                  LDX    PIXEND
 575  F333 3088B0          STRE50  LEAX   -LLENGD,X
 576  F336 4A                      DECA
 577  F337 26FA                    BNE    STRE50
 578  F339 BFE141                  STX    PIXEND
 579  F33C 39              STRRTS  RTS
 580                       *
 581                       *
 582                       ****************************************
 583                       *
 584                       * TANGENTBORDETS INTECKENRUTINER
 585                       *
 586                       ****************************************
 587                       *
 588  F33D 3402            INCHK0  PSHS   A
 589  F33F B6E0FD                  LDA    PIAKBC
 590  F342 8480                    ANDA   #$80
 591  F344 3582                    PULS   A,PC
 592                       *
 593  F346 3410            INKEY0  PSHS   X
 594  F348 8DF3            INKEY1  BSR    INCHK0
 595  F34A 27FC                    BEQ    INKEY1
 596  F34C B6E0FC                  LDA    PIAKBD
 597  F34F 847F                    ANDA   #$7F
 598  F351 3590            INKEY9  PULS   X,PC
 599                       *
 600                       *
 601                       * TABELL F\R INITIERING AV 6845
 602                       *
 603  F353 71              CRTA80  FCB    113       RO H TOTAL
 604  F354 50                      FCB    80        R1 H DISPLAYED
 605  F355 54                      FCB    $54       R2 H SYNC POS
 606  F356 08                      FCB    8         R3 H SYNC WIDTH
 607  F357 18                      FCB    24        R4 V TOTAL
 608  F358 0C                      FCB    12        R5 V SCAN ADJ
 609  F359 18                      FCB    24        R6V DISPLAYED
 610  F35A 18                      FCB    24        R7 V SYNC POS
 611  F35B 00                      FCB    0         R0 INTERLACED MODE
 612  F35C 0B                      FCB    11        R9 MAX SCAN LINE ADDRES
 613  F35D 00                      FCB    $00       R10 CURSOR START
 614  F35E 08                      FCB    08        R11 CURSOR END
 615  F35F E800                    FDB    $E800     R12-13 PIX
 616  F361 E800                    FDB    $E800     R14-15 CURSOR POS
 617                       *
 618                       * TABELL F\R KORRIGERING AV MCM66790 KODES
 619                       *
 620  F363 5B0B            EXCHTB  FDB    $5B0B
 621  F365 5C0C                    FDB    $5C0C
 622  F367 5D0D                    FDB    $5D0D
 623  F369 5E0E                    FDB    $5E0E
 624  F36B 7B1B                    FDB    $7B1B
 625  F36D 7C1C                    FDB    $7C1C
 626  F36F 7D1D                    FDB    $7D1D
 627  F371 7E1E                    FDB    $7E1E
 628  F373 2303                    FDB    $2303
 629  F375 4007                    FDB    $4007
 630  F377 6017                    FDB    $6017
 631  F379                 EXTBND  EQU    *
 632                       *
 633                       *
 634                       * ENDAST ESCAPE
 635                       *
 636  F379                 INTABE  EQU    *
 637  F379 01                      FCB    01
 638  F37A F1EC                    FDB    PAGE      HOME CLEAR
 639  F37C 02                      FCB    02
 640  F37D F28B                    FDB    CURON1    CURSOR ON
 641  F37F 03                      FCB    03
 642  F380 F290                    FDB    CURON2    CURSOR BLINK ON
 643  F382 04                      FCB    04
 644  F383 F295                    FDB    CURON3    SLOW CURSOR BLINK ON
 645  F385 05                      FCB    05
 646  F386 F1EF                    FDB    RESPIX
 647  F388 10                      FCB    $10
 648  F389 F2F8                    FDB    ROLMOD
 649  F38B 11                      FCB    $11
 650  F38C F2FC                    FDB    STRECK
 651  F38E 15                      FCB    $15
 652  F38F F284                    FDB    CUROFF
 653  F391 16                      FCB    $16       RESTORE
 654  F392 F2B1                    FDB    RESTOR
 655  F394 17                      FCB    $17       RESTORE OCH T[ND
 656  F395 F2AC                    FDB    RESTON
 657  F397 18                      FCB    $18
 658  F398 F29D                    FDB    SAVEBL
 659  F39A 19                      FCB    $19
 660  F39B F29F                    FDB    SAVEPO
 661  F39D 1A                      FCB    $1A
 662  F39E F1DF                    FDB    EROLIN    ERASE END OF LINE
 663  F3A0                 INTAB   EQU    *
 664  F3A0 07                      FCB    $07
 665  F3A1 F17D                    FDB    BELL00
 666  F3A3 08                      FCB    $08
 667  F3A4 F14E                    FDB    BACKSP
 668  F3A6 0A                      FCB    $0A
 669  F3A7 F0D8                    FDB    LFEED
 670  F3A9 0D                      FCB    $0D
 671  F3AA F12A                    FDB    CARR
 672  F3AC 1B                      FCB    $1B
 673  F3AD F278                    FDB    SETESC
 674  F3AF                 INTBND  EQU    *
 675                       *
 676  F3AF 53                      FCB    CURUPP
 677  F3B0 FF                      FCB    $FF
 678  F3B1 32                      FCB    CURNER
 679  F3B2 FF                      FCB    $FF
 680  F3B3 1D                      FCB    CURLFT
 681  F3B4 FF                      FCB    $FF
 682  F3B5 25                      FCB    CURRIG
 683  F3B6 FF                      FCB    $FF
 684  F3B7 6E                      FCB    CURHOM
 685  F3B8 FF                      FCB    $FF
 686                       *
 687  F3B9 0D0A            TEXT01  FCB    $D,$A
 688  F3BB 43425547342E33          FCC    'CBUG4.3'
 689  F3C2 0D0A2404        TEXT02  FCB    $D,$A,'$,4
 690                       *
 691  F3C6 0D0A04          TEXT05  FCB    $D,$A,4
 692                       *
 693  F3C9 53746172742053  TEXT07  FCC    'Start Slut Till'
 694  F3D8 0D0A3E04                FCB    $D,$A,'>,4
 695                       *
 696  F3DC 456A207B6E6472  TEXT08  FCC    'Ej {ndrat:'
 697  F3E6 04                      FCB    4
 698                       *
 699  F3E7 53746172742053  TEXT09  FCC    'Start Slut'
 700  F3F1 0D0A3E04                FCB    $D,$A,'>,4
 701                       *
 702  F3F5 427974653A      TEXT10  FCC    'Byte:'
 703  F3FA 04                      FCB    4
 704                       *
 705  F3FB 436B736D3A      TEXT11  FCC    'Cksm:'
 706  F400 04                      FCB    4
 707                       *
 708  F401 4164726573733A  TEXT15  FCC    'Adress:'
 709  F408 04                      FCB    4
 710                       *
 711  F409 52616D20736C75  TEXT16  FCC    'Ram slut=$'
 712  F413 04                      FCB    4
 713                       *
 714  F414 202D20          TEXT17  FCC    ' - '
 715  F417 04                      FCB    4
 716                       *
 717  F418 203D3E20        TEXT18  FCC   ' => '
 718  F41C 04                      FCB    4
 719                       *
 720  F41D 205061737320    TEXT19  FCC     ' Pass '
 721  F423 04                      FCB    4
 722                       *
 723  F424 20426974732069  TEXT20  FCC    ' Bits in error:'
 724  F433 04                      FCB    4
 725                       *
 726  F434 37363534333231  TEXT21  FCC    '76543210'
 727                       *
 728  F43C 535749203A04    TEXT22  FCC    'SWI :',4
 729                       *
 730                       *
 731                       * KALLSTART
 732                       *
 733  F442                 KALST   EQU    *
 734  F442 10CEE3FF                LDS    #STACK
 735  F446 30E8EC                  LEAX   -20,S
 736  F449 BFE115                  STX    USESP
 737  F44C 8EFB71                  LDX    #RETINT
 738  F44F BFE101                  STX    SIRQR
 739  F452 BFE105                  STX    SWI2R
 740  F455 BFE107                  STX    SWI3R
 741  F458 8EF82D                  LDX    #CONTRL
 742  F45B BFE113                  STX    USEPC
 743  F45E BDFB03                  JSR    NOBRKP
 744  F461 7FE014                  CLR    FLOPPY+4  NOLLA DRIVEREG
 745                       *
 746                       * S[TT UPP PCI 2651
 747                       *
 748  F464 8EE000                  LDX    #PCIDR
 749  F467 A603                    LDA    3,X       nolla MR2
 750  F469 864E                    LDA    #$4E      8+1 stoppbit
 751  F46B A702                    STA    2,X
 752  F46D B6FFF0                  LDA    BAUDR     9600 baud standard
 753  F470 A702                    STA    2,X
 754  F472 8605                    LDA    #5
 755  F474 A703                    STA    3,X
 756                       *
 757                       * S[TT UPP KLOCKPIA
 758                       *
 759  F476 7FE009                  CLR    KLOCKA+1
 760  F479 7FE00B                  CLR    KLOCKA+3
 761  F47C CCFF34                  LDD    #$FF34    UT CA2 L]G
 762  F47F FDE008                  STD    KLOCKA
 763  F482 CC0034                  LDD    #$0034    UT CB2 L]G
 764  F485 FDE00A                  STD    KLOCKA+2
 765  F488 86FF                    LDA    #$FF      ENABLA PERIODISKT IRQ
 766  F48A B7E008                  STA    KLOCKA
 767                       *
 768                       * S[TT UPP PRINTERPIA
 769                       *
 770  F48D 7FE00D                  CLR    PRIPIA+1
 771  F490 7FE00F                  CLR    PRIPIA+3
 772  F493 CC0004          PINIT   LDD    #$0004
 773  F496 FDE00C                  STD    PRIPIA
 774  F499 CCFF3C                  LDD    #$FF3C
 775  F49C FDE00E                  STD    PRIPIA+2
 776                       *
 777                       * INITIERA KBD PIA
 778                       *
 779  F49F CC003C                  LDD    #$003C
 780  F4A2 FDE0FC                  STD    PIAKBD
 781  F4A5 CCFF04                  LDD    #$FF04
 782  F4A8 FDE0FE                  STD    PIAKBD+2
 783                       *
 784                       * INITIERA CRTC
 785                       *
 786  F4AB 8EF353                  LDX    #CRTA80
 787  F4AE 4F              SETC41  CLRA
 788  F4AF E680            SETC42  LDB    0,X+
 789  F4B1 FDE0F8                  STD    CRTREG
 790  F4B4 4C                      INCA
 791  F4B5 8110                    CMPA   #$10
 792  F4B7 26F6                    BNE    SETC42
 793  F4B9 BDF1EF                  JSR    RESPIX
 794  F4BC 7EF814                  JMP    START
 795                       *
 796                       *
 797                       ****************************************
 798                       *
 799                       * MONITORPROGRAM
 800                       *
 801                       ****************************************
 802                               ORG    F000+$800
 803                       *
 804                       * VECTORED ADDRESSES FOR INDIRECT JUMPS
 805                       * COMPATIBLE WITH SWTPC S-BUG
 806                       *
 807  F800 F814                    FDB    START
 808  F802 F82D                    FDB    CONTRL
 809  F804 F87E                    FDB    INCH
 810  F806 F877                    FDB    INCHE
 811  F808 F892                    FDB    INCHEK
 812  F80A F92F                    FDB    OUTCH
 813  F80C F969                    FDB    PDATA
 814  F80E F95E                    FDB    PCRLF
 815  F810 F967                    FDB    PSTRNG
 816  F812 F81C                    FDB    WARMST
 817  F814                 MON     EQU    *
 818  F814                 START   EQU    *
 819  F814 10CEE3F3                LDS    #STACK-12
 820  F818 10FFE115                STS    USESP
 821                       *
 822                       * PRINT HEADER
 823                       *
 824  F81C 10CEE3F3        WARMST  LDS    #STACK-12 RESTORE STACKPOINTER
 825  F820 8EF3B9                  LDX    #TEXT01   INITIERINGS STR[NG
 826  F823 86D8                    LDA    #$D8
 827  F825 B7E018                  STA    COMREG
 828  F828 B7E010                  STA    $E010     SHUT OFF MOTOR
 829  F82B 2007                    BRA    CONT20
 830                       *
 831                       * KONTROLLSLINGANS INHOPP
 832                       *
 833  F82D                 CONTRL  EQU    *
 834  F82D 10CEE3F3                LDS    #STACK-12
 835  F831 8EF3C2                  LDX    #TEXT02
 836  F834 BDF969          CONT20  JSR    PDATA
 837  F837 7FE14B                  CLR    PRIFLG
 838  F83A 7FE100                  CLR    STRAD
 839                       *
 840                       * TAG IN KOMMANDO I A-ACC
 841                       * S\K SEDAN ING]NG TILL
 842                       * BEG[RD RUTIN I KOMTAB
 843                       *
 844  F83D 8D38                    BSR    INCHE
 845  F83F 1F89                    TFR    A,B
 846  F841 BDF91D                  JSR    OUTS      BLANK
 847  F844 C160                    CMPB   #$60      SM] BOKST[VER BLIR STORA
 848  F846 2502                    BLO    CONT50
 849  F848 C020                    SUBB   #$20
 850                       *
 851  F84A C03F            CONT50  SUBB   #$3F      CHECK IF VALID CHARACTER
 852  F84C 23DF                    BLS    CONTRL    FEL D] B<@
 853  F84E C11F                    CMPB   #$1F
 854  F850 22DB                    BHI    CONTRL    FEL D] B VAR >^
 855  F852 58                      ASLB             MULT MED 2
 856                       *
 857                       * INMATAT TECKEN OMGJORD TILL ADRESS
 858                       * I KOMMANDOTABELLEN
 859                       *
 860  F853 8EFF72                  LDX    #KOMTAB-2
 861  F856 AD95                    JSR    [B,X]     GO AND WORK
 862  F858 20D3                    BRA    CONTRL    RETURN TO MAIN LOOP
 863                       *
 864                       * Mata ut ett tecken till PCI 2651
 865                       *
 866  F85A                 PCIOUT  EQU    *
 867  F85A F6E001                  LDB    PCISR
 868  F85D C540                    BITB   #$40
 869  F85F 2707                    BEQ    PCIOU9    no DCD
 870  F861 C501                    BITB   #1
 871  F863 27F5                    BEQ    PCIOUT
 872  F865 B7E000                  STA    PCIDR
 873  F868 39              PCIOU9  RTS
 874                       *
 875                       * Ta in ett tecken fr]n PCI 2651
 876                       *
 877  F869                 PCIIN   EQU    *
 878  F869 3404                    PSHS   B
 879  F86B F6E001          PCIIN1  LDB    PCISR
 880  F86E C502                    BITB   #2
 881  F870 27F9                    BEQ    PCIIN1
 882  F872 B6E000                  LDA    PCIDR     tecken
 883  F875 3584                    PULS   B,PC
 884                       *
 885                       *
 886                       * RUTINER F\R ATT H[MTA IN TECKEN I A-ACK
 887                       *
 888  F877 8D05            INCHE   BSR    INCH      GET INPUT CHARACTER
 889  F879 847F                    ANDA   #$7F      IGNORE PARITY
 890  F87B 7EF92F          OUTCHI  JMP    OUTCH
 891                       *
 892  F87E 7DFFF1          INCH    TST    SERIE
 893  F881 26E6                    BNE    PCIIN
 894  F883 7EF000                  JMP    INKEY
 895                       *
 896  F886 8DF6            INCHA0  BSR    INCH      GET TECKEN
 897  F888 847F                    ANDA   #$7F      NO PARITY
 898  F88A 8160                    CMPA   #$60
 899  F88C 2502                    BLO    INCHA9
 900  F88E 8020                    SUBA   #$20
 901  F890 20E9            INCHA9  BRA    OUTCHI
 902                       *
 903                       *
 904                       * TEST IF INPUT CHARACTER
 905                       * Z=1 NO Z=0 YES
 906                       *
 907  F892 3402            INCHEK  PSHS   A
 908  F894 B6E0FD                  LDA    PIAKBC    CHECKA FLAGGAN
 909  F897 8480                    ANDA   #$80
 910  F899 3582            INCK90  PULS   A,PC
 911                       *
 912                       * TAG IN HEXADECIMALT TECKEN.
 913                       * OMVANDLA ASCII 0-9,A-F TILL BIN[RT
 914                       * 0-F
 915                       *
 916  F89B 8DDA            INHEX   BSR    INCHE
 917  F89D 1CFD            INHEX2  CLV
 918  F89F 8030                    SUBA   #$30
 919  F8A1 2B11                    BMI    INHEX9    HOPPA OM EJ HEX
 920  F8A3 8109                    CMPA   #$09
 921  F8A5 2F0C                    BLE    IN1HG     DECIMALT ?
 922  F8A7 84DF                    ANDA   #$DF
 923  F8A9 8111                    CMPA   #$11
 924  F8AB 2B07                    BMI    INHEX9    HOPPA OM EJ HEX
 925  F8AD 8116                    CMPA   #$16
 926  F8AF 2E03                    BGT    INHEX9    HOPPA OM EJ HEX
 927  F8B1 8007                    SUBA   #$7
 928  F8B3 39              IN1HG   RTS
 929                       *
 930  F8B4 1A02            INHEX9  SEV              SET FLAG TO INDICATE NON HEX
 931  F8B6 39                      RTS
 932                       *
 933                       * TAG IN TV] TECKEN. G\R EN DATA BYTE
 934                       *
 935  F8B7 8DE2            BYTE    BSR    INHEX     HEXADECIMALT TECKEN
 936  F8B9 29F9                    BVS    INHEX9
 937  F8BB 48              BYTE2   ASLA
 938  F8BC 48                      ASLA
 939  F8BD 48                      ASLA
 940  F8BE 48                      ASLA             HHHH 0000
 941  F8BF 1F89                    TFR    A,B
 942  F8C1 8DD8                    BSR    INHEX
 943  F8C3 29EF                    BVS    INHEX9
 944  F8C5 3404                    PSHS   B
 945  F8C7 ABE0                    ADDA   0,S+
 946  F8C9 1F89                    TFR    A,B
 947  F8CB 39                      RTS
 948                       *
 949                       * BYGG ADRESS I D & X
 950                       *
 951  F8CC 8DE9            BADDR   BSR    BYTE      H\GSTA 8 BITARNA
 952  F8CE 29E4                    BVS    INHEX9
 953  F8D0 3402                    PSHS   A         MSB
 954  F8D2 8DE3                    BSR    BYTE
 955  F8D4 3502                    PULS   A         OCH MSB FINNS I A-ACK
 956  F8D6 29DC                    BVS    INHEX9
 957  F8D8 1F01                    TFR    D,X
 958  F8DA 39                      RTS
 959                       *
 960  F8DB 8DEF            BADDRS  BSR    BADDR
 961  F8DD 2912                    BVS    BEGRTS
 962  F8DF 203C                    BRA    OUTS      SP+RTS
 963                       *
 964  F8E1 8DF8            BEGEND  BSR    BADDRS
 965  F8E3 290C                    BVS    BEGRTS
 966  F8E5 BFE12D                  STX    BEGA
 967  F8E8 1F12                    TFR    X,Y
 968  F8EA 8DEF            ENDADR  BSR    BADDRS
 969  F8EC 2903                    BVS    BEGRTS
 970  F8EE BFE12F          BEGSTX  STX    ENDA
 971  F8F1 39              BEGRTS  RTS
 972                       *
 973  F8F2 8EF3E7          BEGENS  LDX    #TEXT09   "START SLUT"
 974  F8F5 8D70                    BSR    PSTRNG
 975  F8F7 8DE8                    BSR    BEGEND    FIXA START & STOPP
 976  F8F9 29B9                    BVS    INHEX9    OM EJ HEX G] RTS
 977  F8FB FCE12F                  LDD    ENDA
 978  F8FE B3E12D                  SUBD   BEGA
 979  F901 25EF                    BCS    BEGENS    ENDA M]STE VARA > BEGA
 980  F903 39              OUTRTS  RTS
 981                       *
 982  F904 8DEC            BEGENT  BSR    BEGENS
 983  F906 2904                    BVS    NONHEX
 984  F908 3001                    LEAX   1,X
 985  F90A 20E2                    BRA    BEGSTX
 986                       *
 987  F90C 3262            NONHEX  LEAS   2,S
 988  F90E 39                      RTS
 989                       *
 990                       *
 991  F90F A680            OUT2H   LDA    0,X+      PRINTA 2 HEX TECKEN
 992  F911 3402            OUT2HT  PSHS   A
 993  F913 8D0C            OUT2HU  BSR    OUTHL     OMVANDLA TILL ASCII
 994  F915 3502                    PULS   A
 995  F917 200C                    BRA    OUTHR     PRINTA H\GRE BYTE HALVAN
 996                       *
 997  F919 8DF4            OUT4HS  BSR    OUT2H     PRINTA 4 HEX TECKEN + BLANK
 998  F91B 8DF2            OUT2HS  BSR    OUT2H     PRINTA 2 HEX TECKEN + BLANK
 999  F91D 8620            OUTS    LDA    #$20      MELLANSLAG
1000  F91F 200E                    BRA    OUTCH     (RETURN I OUTCH)
1001                       *
1002  F921 44              OUTHL   LSRA
1003  F922 44                      LSRA
1004  F923 44                      LSRA
1005  F924 44                      LSRA
1006                       *
1007  F925 840F            OUTHR   ANDA   #$0F      MASKA BORT H\GRA DELEN
1008  F927 8B30            OUTHZ   ADDA   #$030     TILLVERKA ASCII
1009  F929 8139                    CMPA   #$39      ST\RRE [N 9
1010  F92B 2302                    BLS    OUTCH
1011  F92D 8B07                    ADDA   #$7       F\R A-F
1012                       *
1013                       * MATA UT ETT TECKEN FR]N A-ACC
1014                       *
1015  F92F 7DE14B          OUTCH   TST    PRIFLG
1016  F932 260A                    BNE    PRIOUT
1017  F934 7DFFF1                  TST    SERIE
1018  F937 1026FF1F                LBNE   PCIOUT
1019  F93B 7EF01E                  JMP    OUTCR0
1020                       *
1021  F93E 3402            PRIOUT  PSHS   A
1022  F940 3402                    PSHS   A
1023  F942 B6E00C          PRI02   LDA    PRIPIA
1024  F945 2BFB                    BMI    PRI02
1025  F947 3502                    PULS   A
1026  F949 B7E00E                  STA    PRIPIA+2
1027  F94C 8634                    LDA    #$34
1028  F94E B7E00F                  STA    PRIPIA+3
1029  F951 863C                    LDA    #$3C
1030  F953 B7E00F                  STA    PRIPIA+3
1031  F956 4A              PRI05   DECA
1032  F957 26FD                    BNE    PRI05
1033  F959 B6E00E                  LDA    PRIPIA+2
1034  F95C 3582                    PULS   A,PC
1035                       *
1036                       *
1037  F95E 3412            PCRLF   PSHS   X,A       SAVE POINTER & A-ACC
1038  F960 8EF3C6                  LDX    #TEXT05   "CR + LF + 0"
1039  F963 8D04                    BSR    PDATA
1040  F965 3592                    PULS   X,A,PC    GET IT BACK
1041                       *
1042                       * SKRIV UT TEXT STR[NG.
1043                       * X-REG PEKAR P] TECKEN.
1044                       * AVSLUT MED 'EOT' (04).
1045                       *
1046  F967 8DF5            PSTRNG  BSR    PCRLF     SEND CR+LF FIRST
1047                       *
1048  F969 A680            PDATA   LDA    0,X+      H[MTA TECKEN
1049  F96B 8104                    CMPA   #$04      'EOT'
1050  F96D 2794                    BEQ    OUTRTS
1051  F96F 8DBE                    BSR    OUTCH
1052  F971 20F6                    BRA    PDATA
1053                       *
1054  F973 8D02            UTMIN   BSR    UTMIN3
1055  F975 863D            UTMIN2  LDA    #'=
1056  F977 20B6            UTMIN3  BRA    OUTCH
1057                       *
1058                       *
1059                       * SKRIV UT STACKENS INNEH]LL
1060                       *
1061  F979                 PRREG   EQU    *
1062  F979 8DE3                    BSR    PCRLF
1063  F97B 8EE109          PRREG2  LDX    #USECC
1064  F97E 8643                    LDA    #'C
1065  F980 8DF1                    BSR    UTMIN
1066  F982 8D97                    BSR    OUT2HS    CC
1067                       *
1068  F984 8641                    LDA    #'A
1069  F986 8DEB                    BSR    UTMIN
1070  F988 8D91                    BSR    OUT2HS    ACC-A
1071                       *
1072  F98A 8642                    LDA    #'B
1073  F98C 8DE5                    BSR    UTMIN
1074  F98E 8D8B                    BSR    OUT2HS    ACC-B
1075                       *
1076  F990 8644                    LDA    #'D
1077  F992 8DDF                    BSR    UTMIN
1078 >F994 BDF91B                  JSR    OUT2HS    DP-REG
1079                       *
1080  F997 8658                    LDA    #'X
1081  F999 8DD8                    BSR    UTMIN
1082  F99B 8D16                    BSR    OUT400    X-REG
1083                       *
1084  F99D 8659                    LDA    #'Y
1085  F99F 8DD2                    BSR    UTMIN
1086  F9A1 8D10                    BSR    OUT400    Y-REG
1087                       *
1088  F9A3 8655                    LDA    #'U
1089  F9A5 8DCC                    BSR    UTMIN
1090  F9A7 8D0A                    BSR    OUT400    U-REG
1091                       *
1092  F9A9 8650                    LDA    #'P
1093  F9AB 8DC6                    BSR    UTMIN
1094  F9AD 8D04                    BSR    OUT400    PC-REG
1095                       *
1096  F9AF 8653                    LDA    #'S
1097  F9B1 8DC0                    BSR    UTMIN
1098  F9B3 7EF919          OUT400  JMP    OUT4HS
1099                       *
1100                       *
1101                       * H[R P] 'M' KOMMANDO.
1102                       *
1103                       * MEMORY CHANGE WITH SHORT AND LONG OFFSET CALCULATION
1104                       *
1105  F9B6 BDF8DB          CHANGE  JSR    BADDRS    BYGG ADRESS , PRINTA BLANK
1106  F9B9 291B                    BVS    CHARTS
1107  F9BB 1F12                    TFR    X,Y
1108  F9BD BFE12D          CHANG   STX    BEGA
1109  F9C0 BDF91B                  JSR    OUT2HS    PRINTA GAMLA INNEH]LLET
1110  F9C3 BDF877                  JSR    INCHE
1111  F9C6 812E                    CMPA   #'.       LINE FEED ERS[TTNING
1112  F9C8 102700B9                LBEQ   LF
1113  F9CC 812D                    CMPA   #'-       GO TO PREVIOUS LOCATION
1114  F9CE 102700B0                LBEQ   CHOCON
1115  F9D2 810D                    CMPA   #$0D      CR GO RTS
1116  F9D4 2601                    BNE    CHA200
1117  F9D6 39              CHARTS  RTS
1118                       *
1119  F9D7 8152            CHA200  CMPA   #'R       KORT RELATIV OFFSET
1120  F9D9 2612                    BNE    CHA300
1121  F9DB 3021                    LEAX   1,Y       PEKA P] "00" OFFSET
1122  F9DD E6A4                    LDB    ,Y        H[MTA OFFSETV[RDE
1123  F9DF 2A05                    BPL    CHA210    FRAM]T
1124  F9E1 301F            CHA205  LEAX   -1,X      BACKA
1125  F9E3 5C                      INCB             TILL R[TT ST[LLE
1126  F9E4 26FB                    BNE    CHA205
1127  F9E6 5D              CHA210  TSTB
1128  F9E7 2702                    BEQ    CHA250    KLART
1129  F9E9 3085                    LEAX   B,X
1130  F9EB 2022            CHA250   BRA   CHA380
1131                       *
1132  F9ED 814C            CHA300  CMPA   #'L       L]NG RELATIV BRANCH
1133  F9EF 262D                    BNE    CHA400
1134  F9F1 3022                    LEAX   2,Y       H[MTA "0000" OFFSET
1135  F9F3 EEA4                    LDU    ,Y        OFFSETV[RDE
1136  F9F5 A6A4                    LDA    ,Y        KOLLA RIKTNINGEN
1137  F9F7 2A10                    BPL    CHA320    FRAM]T
1138  F9F9 301F            CHA310  LEAX   -1,X      BAK]T
1139  F9FB 3341                    LEAU   1,U
1140  F9FD 11830000                CMPU   #0        KLART ?
1141  FA01 26F6                    BNE    CHA310
1142  FA03 200A                    BRA    CHA380
1143                       *
1144  FA05 3001            CHA315  LEAX   1,X
1145  FA07 335F                    LEAU   -1,U
1146  FA09 11830000        CHA320  CMPU   #0
1147  FA0D 26F6                    BNE    CHA315
1148  FA0F BFE131          CHA380  STX    TILL
1149  FA12 863D                    LDA    #'=
1150  FA14 BDF92F                  JSR    OUTCH
1151  FA17 8624                    LDA    #'$
1152  FA19 BDF92F                  JSR    OUTCH
1153  FA1C 2036                    BRA    LONGOG
1154                       *
1155  FA1E 8157            CHA400  CMPA   #'W       SKRIV IN OFFSET
1156  FA20 260B                    BNE    CHA500
1157  FA22 8EE131                  LDX    #TILL     SKRIV UT'ET
1158  FA25 BDF91B                  JSR    OUT2HS
1159  FA28 B6E131                  LDA    TILL      H[R ST]R DET
1160  FA2B 204C                    BRA    NYDATC
1161                       *
1162  FA2D 814F            CHA500  CMPA   #'O       BER[KNA OFFSET
1163  FA2F 2635                    BNE    NYDATA
1164  FA31 BFE131                  STX    TILL
1165  FA34 BDF8EA                  JSR    ENDADR    TAG IN DESTINATIONS ADRESSEN
1166  FA37 294E                    BVS    CHA50
1167  FA39 1F10                    TFR    X,D       FLYTTA TILL DEST ADRESSEN
1168  FA3B B3E131                  SUBD   TILL      SKILLNADEN
1169  FA3E 1083007F                CMPD   #$007F    KOLLA OM KORT OFFSET
1170  FA42 2518                    BLO    KORTOF
1171  FA44 1083FF7F                CMPD   #$FF7F
1172  FA48 2212                    BHI    KORTOF
1173                       *
1174  FA4A 301F            LONGOF  LEAX   -1,X      ETT EXTRA STEG
1175  FA4C 1F10                    TFR    X,D
1176  FA4E B3E131                  SUBD   TILL
1177  FA51 FDE131                  STD    TILL
1178  FA54 8EE131          LONGOG  LDX    #TILL     PRINTA 4 HEX ??D OFFSET
1179  FA57 BDF919                  JSR    OUT4HS
1180  FA5A 202B                    BRA    CHA50
1181                       *
1182                       * KORT OFFSET
1183                       *
1184  FA5C 1F98            KORTOF  TFR    B,A       L]GA HALVAN
1185  FA5E F7E131                  STB    TILL      SE "W" OVAN
1186  FA61 BDF911                  JSR    OUT2HT    PRINTA OFFSET (A-ACC)
1187  FA64 2021                    BRA    CHA50
1188                       *
1189  FA66 8127            NYDATA  CMPA   #$27      '-TECKEN
1190  FA68 2605                    BNE    NYDATB
1191  FA6A BDF877                  JSR    INCHE
1192  FA6D 200A                    BRA    NYDATC
1193                       *
1194  FA6F BDF89D          NYDATB  JSR    INHEX2
1195  FA72 2913                    BVS    CHA50
1196  FA74 BDF8BB                  JSR    BYTE2
1197  FA77 290E                    BVS    CHA50
1198  FA79 A7A0            NYDATC  STA    0,Y+      LAGRA I MINNET
1199  FA7B A13F                    CMPA   -1,Y      FASTNADE DET?
1200  FA7D 2708                    BEQ    CHA50
1201  FA7F BDF17D          CHOFEL  JSR    BELL00
1202  FA82 313F            CHOCON  LEAY   -1,Y      BACKA ETT STEG
1203  FA84 8C                      FCB    SKIP2
1204  FA85 3121            LF      LEAY   1,Y       STEGA TIL N[STA
1205  FA87 10BFE12D        CHA50   STY    BEGA
1206  FA8B BDF95E                  JSR    PCRLF
1207  FA8E 8EE12D                  LDX    #BEGA
1208  FA91 BDFC35                  JSR    OUT401    SKIPPA ADRESSEN
1209  FA94 1F21                    TFR    Y,X       L[GG ADRESSEN I X IGEN
1210  FA96 7EF9BD                  JMP    CHANG     OM IGEN
1211                       *
1212                       * SWI SERVICE RUTIN (BREAKPOINTS)
1213                       *
1214  FA99 10FFE115        SWISER  STS    USESP
1215  FA9D 1F43                    TFR    S,U
1216  FA9F C60C                    LDB    #12       ANTAL POS I STACKEN
1217  FAA1 8EE109                  LDX    #USECC    START AV PSEUDOSTACK
1218  FAA4 A6C0            PSUD1   LDA    0,U+
1219  FAA6 A780                    STA    0,X+      OCH L[GG IN
1220  FAA8 5A                      DECB
1221  FAA9 26F9                    BNE    PSUD1
1222  FAAB 4F                      CLRA
1223  FAAC 1F8B                    TFR    A,DP
1224  FAAE BEE113                  LDX    USEPC     DECREMENT PC
1225  FAB1 301F                    LEAX   -1,X
1226  FAB3 BFE113                  STX    USEPC
1227  FAB6 8EF43C                  LDX    #TEXT22
1228  FAB9 BDF967                  JSR    PSTRNG
1229  FABC 8D18                    BSR    BRKP40    FINNS BREAK POINTS
1230  FABE 2710                    BEQ    BRKP20
1231                       *
1232                       * TAG BORT BREAK POINTS N[R
1233                       * VI [R I CBUG MONITORN
1234                       *
1235  FAC0 A602            BRKP00  LDA    2,X       BRKPT'S P] SAMMA ADRESS
1236  FAC2 813F                    CMPA   #$3F      MULTIDEFINIERADE BRKPT'S
1237  FAC4 2705                    BEQ    BRKP10
1238  FAC6 10AE84                  LDY    ,X
1239  FAC9 A7A4                    STA    ,Y
1240  FACB 3003            BRKP10  LEAX   3,X
1241  FACD 5A                      DECB
1242  FACE 26F0                    BNE    BRKP00
1243  FAD0 BDF979          BRKP20  JSR    PRREG
1244  FAD3 7EF82D                  JMP    CONTRL
1245                       *
1246  FAD6 8EE11A          BRKP40  LDX    #BPTAB    TABELL \VER BREAK POINTS, OPCODER
1247  FAD9 F6E119                  LDB    VFLAG     ANTAL INSTALLERADE BRKPT'S
1248  FADC 39              BRKRTS  RTS
1249                       *
1250                       * H[R P] 'V' KOMMANDO
1251                       *
1252                       * S[TT IN EN BRKPT.
1253                       *
1254  FADD                 SETBR   EQU    *
1255  FADD 8EFA99                  LDX    #SWISER
1256  FAE0 BFE103                  STX    SWI1R
1257  FAE3 8DF1                    BSR    BRKP40    LEDIGT ?
1258  FAE5 C105                    CMPB   #5        FINNS PLATS ?
1259  FAE7 2503                    BLO    SETBP50
1260  FAE9 7EF17D                  JMP    BELL00
1261                       *
1262  FAEC BDF8DB          SETBP50 JSR    BADDRS
1263  FAEF 29EB                    BVS    BRKRTS    OM EJ HEX G] RTS
1264  FAF1 1F12                    TFR    X,Y
1265                       *
1266  FAF3 8DE1                    BSR    BRKP40    FINN LEDIG PLATS
1267  FAF5 2705                    BEQ    BRKP60    OM LEDIG, STOPPA IN BRKPT.
1268                       *
1269  FAF7 3003            BRKP50  LEAX   3,X
1270  FAF9 5A                      DECB
1271  FAFA 26FB                    BNE    BRKP50
1272                       *
1273  FAFC 7CE119          BRKP60  INC    VFLAG
1274  FAFF 10AF84                  STY    ,X        IN I TABELLEN
1275  FB02 39                      RTS
1276                       *
1277                       * TA BORT ALLA BREAKPOINTS
1278                       *
1279  FB03                 NOBRKP  EQU    *         TA BORT GAMLA SWI-KODER F\RST
1280  FB03 C605                    LDB    #5
1281  FB05 8EE11A                  LDX    #BPTAB    TABELLEN
1282  FB08 EE84            U070    LDU    ,X        H[MTA ADRESS TILL MINNET
1283  FB0A A6C4                    LDA    ,U        H[MTA IN DATAT D[R
1284  FB0C 813F                    CMPA   #$3F      [R DET SWI KOD
1285  FB0E 2604                    BNE    U100      NIX NO ACTION
1286  FB10 A602                    LDA    2,X       D] FINNS RIKTIGA KODEN I TABELLEN
1287  FB12 A7C4                    STA    ,U        L[GG TILLBAKS DEN
1288  FB14 3003            U100    LEAX   3,X       N[STA TABELLV[RDE
1289  FB16 5A                      DECB
1290  FB17 26EF                    BNE    U070
1291  FB19 C610            NOBRKQ  LDB    #16
1292  FB1B 8EE119                  LDX    #VFLAG
1293  FB1E 6F80            U200    CLR    0,X+
1294  FB20 5A                      DECB
1295  FB21 26FB                    BNE    U200
1296  FB23 39              PDKLAR  RTS
1297                       *
1298                       * STOPPA IN ALLA BRKPTS I MINNET
1299                       * VID 'G' ELLER 'C'
1300                       *
1301  FB24 8DB0            BRKPIN  BSR    BRKP40
1302  FB26 27FB            BRKPRT  BEQ    PDKLAR
1303                       *
1304  FB28 10AE84          TGB     LDY    ,X        H[MTA ADRESSEN
1305  FB2B 10BCE113                CMPY   USEPC     [R DET SAMMA SOM I PSEUDOSTACKEN
1306  FB2F 2708                    BEQ    TGB5      SKIP I S] FALL
1307  FB31 A6A4                    LDA    ,Y        OPCODE SOM SKALL EXEKVERAS
1308  FB33 A702                    STA    2,X
1309  FB35 863F                    LDA    #$3F      SWI OPCODE
1310  FB37 A7A4                    STA    ,Y        ERS[TT MED SWI
1311  FB39 3003            TGB5    LEAX   3,X
1312  FB3B 5A                      DECB
1313  FB3C 20E8                    BRA    BRKPRT
1314                       *
1315                       * PRINT ALL BREAKPOINTS
1316                       *
1317  FB3E F6E119          DISBKP  LDB    VFLAG
1318  FB41 270C                    BEQ    DISB00    NOLL OM INGA BRKPT'S
1319  FB43 8EE11A                  LDX    #BPTAB    H[MTA TABELLEN
1320  FB46 BDF919          DISP50  JSR    OUT4HS    PRINTA ADRESSEN
1321  FB49 3001                    LEAX   1,X       HOPPA \VER OPCODEN
1322  FB4B 5A                      DECB             N[STA
1323  FB4C 26F8                    BNE    DISP50
1324  FB4E 39              LOAD35  RTS
1325                       *
1326  FB4F 8630            DISB00  LDA    #$30
1327  FB51 7EF92F                  JMP    OUTCH     PRINTA EN NOLLA
1328                       *
1329                       * GO TO AAA AND EXECUTE PROGRAM
1330                       *
1331  FB54 BDF8DB          GOEXEC  JSR    BADDRS    START ADRESS
1332  FB57 29F5                    BVS    LOAD35
1333  FB59 BFE113                  STX    USEPC     L[GG IN I PSEUDOSTACK
1334                       *
1335                       * CONTINUE FROM BREAKPOINT
1336                       *
1337  FB5C                 CONTIN  EQU    *
1338                       *
1339                       * FLYTTA FR]N PSEUDOSTACK
1340                       *
1341  FB5C FEE115                  LDU    USESP
1342  FB5F C60C                    LDB    #12
1343  FB61 334C                    LEAU   12,U      PEKA P] H\GSTA ADRESSEN
1344  FB63 8EE115                  LDX    #USESP    PEKA P] USER RAM
1345  FB66 A682            PSEU10  LDA    0,-X
1346  FB68 3602                    PSHU   A
1347  FB6A 5A                      DECB
1348  FB6B 26F9                    BNE    PSEU10
1349  FB6D 8DB5                    BSR    BRKPIN    STOPPA IN EV BRKPT'S
1350  FB6F 1F34            CONTI7  TFR    U,S
1351  FB71 3B              RETINT  RTI
1352                       *
1353  FB72                 CHUREG  EQU    *
1354  FB72 863A                    LDA    #':
1355  FB74 BDF92F                  JSR    OUTCH
1356  FB77 BDF886                  JSR    INCHA0    H[MTA TECKEN
1357  FB7A 8EE109                  LDX    #USECC
1358  FB7D 8143                    CMPA   #'C       CC-REG
1359  FB7F 2609                    BNE    CHU100
1360  FB81 8D4D                    BSR    CHBYTE
1361  FB83 A61F                    LDA    -1,X      FIXA BIT 7
1362  FB85 8A80                    ORAA   #$80
1363  FB87 A71F                    STA    -1,X
1364  FB89 39                      RTS
1365                       *
1366  FB8A 8141            CHU100  CMPA   #'A       A-ACK
1367  FB8C 2604                    BNE    CHU200
1368  FB8E 3001                    LEAX   1,X
1369  FB90 203E                    BRA    CHBYTE
1370                       *
1371  FB92 8142            CHU200  CMPA   #'B       B-ACK
1372  FB94 2604                    BNE    CHU300
1373  FB96 3002                    LEAX   2,X
1374  FB98 2036                    BRA    CHBYTE
1375                       *
1376  FB9A 8144            CHU300  CMPA    #'D      DP--RG
1377  FB9C 2604                    BNE    CHU400
1378  FB9E 3003                    LEAX   3,X
1379  FBA0 202E                    BRA    CHBYTE
1380                       *
1381  FBA2 8158            CHU400  CMPA   #'X       X-REG
1382  FBA4 2604                    BNE    CHU500
1383  FBA6 3004                    LEAX   4,X
1384  FBA8 2036                    BRA    CHADDR
1385                       *
1386  FBAA 8159            CHU500  CMPA   #'Y       Y-REG
1387  FBAC 2604                    BNE    CHU600
1388  FBAE 3006                    LEAX   6,X
1389  FBB0 202E                    BRA    CHADDR
1390                       *
1391  FBB2 8155            CHU600  CMPA   #'U       U-REG
1392  FBB4 2604                    BNE    CHU700
1393  FBB6 3008                    LEAX   8,X
1394  FBB8 2026                    BRA    CHADDR
1395                       *
1396  FBBA 8150            CHU700  CMPA   #'P       PROGRAM COUNTER
1397  FBBC 2604                    BNE    CHU800
1398  FBBE 300A                    LEAX   10,X
1399  FBC0 201E                    BRA    CHADDR
1400                       *
1401  FBC2 8153            CHU800  CMPA   #'S       STACK POINTER
1402  FBC4 2604                    BNE    CHU900
1403  FBC6 300C                    LEAX   12,X
1404  FBC8 2016                    BRA    CHADDR
1405                       *
1406  FBCA 863F            CHU900  LDA    #'?
1407  FBCC BDF92F                  JSR    OUTCH
1408  FBCF 39              CHU990  RTS
1409                       *
1410  FBD0                 CHBYTE  EQU    *         DISPLAY AND CHANGE BYTE
1411  FBD0 BDF975                  JSR    UTMIN2
1412  FBD3 BDF91B                  JSR    OUT2HS    GAMLA BYTEN
1413  FBD6 BDF8B7                  JSR    BYTE      NYTT DATA
1414  FBD9 29F4                    BVS    CHU990
1415  FBDB 301F                    LEAX   -1,X
1416  FBDD A780                    STA    0,X+      LAGRA NYA V[RDET
1417  FBDF 39                      RTS
1418                       *
1419  FBE0                 CHADDR  EQU    *         DISPLAY AND CHANGE 16 BITS
1420  FBE0 BDF975                  JSR    UTMIN2    PRINT =
1421  FBE3 BDF919                  JSR    OUT4HS    PRINT 4 HEX
1422  FBE6 1F13                    TFR    X,U       SAVE X
1423  FBE8 BDF8DB                  JSR    BADDRS    GET NYA SIFFROR
1424  FBEB 2902                    BVS    CHADDS
1425  FBED AF5E                    STX    -2,U      PETA IN NYA DATAT
1426  FBEF 39              CHADDS  RTS
1427                       *
1428  FBF0                 SUBR    EQU    *
1429  FBF0 BDF8DB                  JSR    BADDRS
1430  FBF3 29DA                    BVS    CHU990
1431  FBF5 BFE113                  STX    USEPC
1432  FBF8 CEFA99                  LDU    #SWISER
1433  FBFB FFE103                  STU    SWI1R     RIGHT VECTOR
1434  FBFE BDFB24                  JSR    BRKPIN    STOPPA IN BRYPUNKTER
1435  FC01 B6E10C                  LDA    USECC+3   GET DP V[RDE
1436  FC04 1F8B                    TFR    A,DP
1437  FC06 FCE10A                  LDD    USECC+1   A OCH B ACK
1438  FC09 BEE10D                  LDX    USECC+4
1439  FC0C 10BEE10F                LDY    USECC+6
1440  FC10 FEE111                  LDU    USECC+8   TA MED REGISTREN
1441  FC13 AD9FE113                JSR    [USEPC]   INDIREKT SUBHOPP
1442  FC17 3F                      SWI              SKRIV REGISTER OCH ]TERG]
1443                       *
1444                       * C H K S M
1445                       *
1446  FC18 BDF904          CHKSM   JSR    BEGENT
1447  FC1B 4F                      CLRA
1448  FC1C 5F                      CLRB
1449                       *
1450  FC1D 10BCE12F        CKSM10  CMPY   ENDA
1451  FC21 2706                    BEQ    CKSM20
1452  FC23 EBA0                    ADDB   0,Y+
1453  FC25 8900                    ADCA   #0
1454  FC27 20F4                    BRA    CKSM10
1455                       *
1456  FC29 FDE12D          CKSM20  STD    BEGA
1457  FC2C 8EF3FB                  LDX    #TEXT11   'CKSM'
1458  FC2F BDF967                  JSR    PSTRNG
1459  FC32 8EE12D                  LDX    #BEGA
1460  FC35 7EF919          OUT401  JMP    OUT4HS
1461                       *
1462                       * H[R P] 'D' KOMMANDO
1463                       *
1464                       * DUMP RUTIN-
1465                       * UTLAGD SOM SUBRUTIN FOR ATT KUNNA
1466                       * ANV[NDAS I AVLUSNINGSSYFTE I EGNA
1467                       * PROGRAM. D] M]STE BEGA/ENDA LADDAS
1468                       * MED START RESP. STOPPADRESSER.
1469                       * BEGA MODIFIERAS AV RUTINEN
1470                       *
1471                       *
1472  FC38 BDF8F2          DUMPRI  JSR    BEGENS    FIXA START OCH STOPP
1473  FC3B 2965                    BVS    COMP99
1474  FC3D 7CE14B                  INC    PRIFLG    TILL PRINTERN
1475  FC40 2005                    BRA    DUMP17
1476                       *
1477  FC42 BDF8F2          DUMP16  JSR    BEGENS    FIXA START & STOPP
1478  FC45 295B                    BVS    COMP99
1479  FC47 B6E12E          DUMP17  LDA    BEGA+1
1480  FC4A 84F0                    ANDA   #$F0      FULL RAD
1481  FC4C C610                    LDB    #16
1482                       *
1483  FC4E B7E12E          PDUMP   STA    BEGA+1
1484  FC51 F7E129                  STB    BYTECT
1485                       *
1486  FC54 BDFD0F          PD1000  JSR    BREAK     AVBROTT ?
1487                       *
1488  FC57 BDF95E                  JSR    PCRLF
1489                       *
1490                       * B\RJA DUMPA
1491                       * FORMAT AAAA BB BB BB BB BB BB BB BB .ASCII..
1492                       *
1493  FC5A 8EE12D                  LDX    #BEGA
1494  FC5D 8D62                    BSR    OUT405    PRINTA ADRESSEN
1495  FC5F BEE12D                  LDX    BEGA
1496  FC62 F6E129                  LDB    BYTECT    8 BYTES PER/RAD
1497  FC65 BDF91B          PD3000  JSR    OUT2HS
1498  FC68 5A                      DECB
1499  FC69 26FA                    BNE    PD3000
1500                       *
1501                       * PRINTA SAMMA BYTES MEN I
1502                       * EKVIVALENT ASCII.
1503                       *
1504  FC6B BDF91D                  JSR    OUTS      SPACE
1505  FC6E F6E129                  LDB    BYTECT
1506  FC71 BEE12D                  LDX    BEGA
1507  FC74 A680            PD4000  LDA    0,X+
1508  FC76 847F                    ANDA   #$7F      MASKA BIT 8
1509                       *
1510                       * SKRIV EJ UT KONTROLLTECKEN
1511                       * MEN D[REMOT SM] BOKST[VER
1512                       * DVS OM A<$20 BYT MOT .
1513                       *
1514  FC78 8120                    CMPA   #$20
1515  FC7A 2D04                    BLT    PD5000
1516  FC7C 817F                    CMPA   #$7F
1517  FC7E 2D02                    BLT    PD6000
1518  FC80 862E            PD5000  LDA    #'.
1519  FC82 BDF92F          PD6000  JSR    OUTCH
1520  FC85 5A                      DECB
1521  FC86 26EC                    BNE    PD4000
1522                       *
1523  FC88 BFE12D                  STX    BEGA
1524  FC8B 8C0000                  CMPX   #0        G]TT RUNT FFFF ?
1525  FC8E 2712                    BEQ    COMP99
1526                       *
1527                       * KOMPAKTERA START/STOPP ADRESSER
1528                       *
1529  FC90 FCE12F                  LDD    ENDA
1530  FC93 B3E12D                  SUBD   BEGA
1531  FC96 250A                    BCS    COMP99
1532  FC98 7DE12E                  TST    BEGA+1
1533  FC9B 26B7                    BNE    PD1000
1534  FC9D BDF95E                  JSR    PCRLF
1535  FCA0 20B2                    BRA    PD1000
1536                       *
1537  FCA2 39              COMP99  RTS
1538                       *
1539                       ************************
1540                       *
1541                       * K O P I E R I N G *
1542                       *
1543                       ************************
1544                       *
1545  FCA3 8D3D            COPY    BSR    BEGEN3
1546  FCA5 221D                    BHI    COPY80
1547  FCA7 10BCE12F        COPY10  CMPY   ENDA
1548  FCAB 2753                    BEQ    BREART
1549  FCAD A6A0                    LDA    0,Y+
1550                       *
1551  FCAF A780            COPY15  STA    0,X+      LAGRA
1552  FCB1 A11F                    CMPA   -1,X      FASTNADE
1553  FCB3 27F2                    BEQ    COPY10
1554                       *
1555                       * INGET MINNE I
1556                       *
1557  FCB5 BFE131          COPY20  STX    TILL
1558  FCB8 8EF3DC                  LDX    #TEXT08   'EJ [NDRAT'
1559  FCBB BDF967                  JSR    PSTRNG
1560  FCBE 8EE131                  LDX    #TILL
1561  FCC1 7EF919          OUT405   JMP   OUT4HS    "+RTS"
1562                       *
1563  FCC4 FCE12F          COPY80  LDD    ENDA      FLYTTA H\GSTA BITEN F\RST
1564  FCC7 1F02                    TFR    D,Y
1565  FCC9 B3E12D                  SUBD   BEGA
1566  FCCC 308B                    LEAX   D,X       SKILLNADEN MELLAN "ENDA" & "BEGA"
1567                       *                        ADDERAD MED "TILL" FINNS NU I X-REG
1568  FCCE A6A4            COPY85  LDA    ,Y        H[MTA
1569  FCD0 A784                    STA    ,X        L[GG UT
1570  FCD2 10BCE12D                CMPY   BEGA
1571  FCD6 2728                    BEQ    BREART
1572  FCD8 A184                    CMPA   ,X
1573  FCDA 26D9                    BNE    COPY20
1574  FCDC 301F                    LEAX   -1,X
1575  FCDE 313F                    LEAY   -1,Y
1576  FCE0 20EC                    BRA    COPY85    FASTNADE JO
1577                       *
1578  FCE2 8EF3C9          BEGEN3  LDX    #TEXT07   'START SLUT TILL'
1579  FCE5 BDF967                  JSR    PSTRNG
1580  FCE8 BDF8E1                  JSR    BEGEND
1581  FCEB 2803                    BVC    BEGEN4
1582  FCED 7EF90C                  JMP    NONHEX
1583                       *
1584  FCF0                 BEGEN4  EQU    *
1585  FCF0 3001                    LEAX   1,X
1586  FCF2 BFE12F                  STX    ENDA
1587  FCF5 BDF8DB                  JSR    BADDRS
1588  FCF8 29E8                    BVS    BEGEN3    TRY AGAIN
1589  FCFA BFE131                  STX    TILL
1590  FCFD BCE12D                  CMPX   BEGA
1591  FD00 39              BREART  RTS
1592                       *
1593                       *****
1594                       * HJ[LPRUTINER
1595                       *****
1596                       *
1597  FD01 BDF95E          ADDRDA  JSR    PCRLF
1598  FD04 8EE12D                  LDX    #BEGA
1599  FD07 8DB8                    BSR    OUT405    NNNN DD
1600  FD09 BEE12D                  LDX    BEGA
1601  FD0C 7EF91B          OUT205  JMP    OUT2HS
1602                       *
1603  FD0F BDF892          BREAK   JSR    INCHEK    KOLLA OM TECKEN IN
1604  FD12 2715                    BEQ    BRETS
1605  FD14 BDF87E          BRE20   JSR    INCH
1606  FD17 847F                    ANDA   #$7F
1607  FD19 8151                    CMPA   #'Q       AVBRYTA
1608  FD1B 270A                    BEQ    BREAQ
1609  FD1D 8171                    CMPA   #'q
1610  FD1F 2706                    BEQ    BREAQ
1611  FD21 8130                    CMPA   #'0       PAUS ?
1612  FD23 2604                    BNE    BRETS
1613  FD25 20ED                    BRA    BRE20
1614                       *
1615  FD27 3262            BREAQ   LEAS   2,S
1616  FD29 39              BRETS   RTS
1617                       *
1618                       ************************
1619                       *
1620                       * V E R I F Y
1621                       *
1622                       ************************
1623                       *
1624  FD2A 8DB6            VERIF   BSR    BEGEN3
1625  FD2C 10BCE12F        VERI10  CMPY   ENDA
1626  FD30 27CE                    BEQ    BREART
1627  FD32 A6A4                    LDA    ,Y
1628  FD34 A184                    CMPA   ,X        VERIFIERA
1629  FD36 2713                    BEQ    VERI20    HOPPA OM SAMMA
1630                       *
1631  FD38 8DC7                    BSR    ADDRDA    NNNN DD
1632  FD3A BDF91D                  JSR    OUTS      SP
1633  FD3D 8EE131                  LDX    #TILL
1634  FD40 BDF919                  JSR    OUT4HS    MMMM
1635  FD43 BEE131                  LDX    TILL
1636  FD46 8DC4                    BSR    OUT205    DD
1637                       *
1638  FD48 BEE131                  LDX    TILL
1639  FD4B 3121            VERI20  LEAY   1,Y
1640  FD4D 10BFE12D                STY    BEGA
1641  FD51 3001                    LEAX   1,X
1642  FD53 BFE131                  STX    TILL
1643  FD56 8DB7                    BSR    BREAK
1644  FD58 20D2                    BRA    VERI10    OM IGEN
1645                       *
1646                       *
1647                       ************************
1648                       *
1649                       * N O L L A / F F - S T [ L L
1650                       *
1651                       ************************
1652                       *
1653                       *
1654  FD5A BDF904          NOLLFF  JSR    BEGENT
1655                       *
1656  FD5D 8EF3F5                  LDX    #TEXT10   'BYTE'
1657  FD60 BDF967                  JSR    PSTRNG
1658  FD63 BDF8B7                  JSR    BYTE
1659  FD66 29C1                    BVS    BRETS
1660  FD68 10BCE12F        NOLL10  CMPY   ENDA
1661  FD6C 2792                    BEQ    BREART
1662  FD6E A7A0                    STA    0,Y+
1663  FD70 20F6                    BRA    NOLL10
1664                       *
1665                       *
1666                       ******************************
1667                       *
1668                       * E X T E N D E D  A D R .  T E S T
1669                       *
1670                       ******************************
1671                       *
1672                       *
1673  FD72 BDF904          EXTE    JSR    BEGENT
1674  FD75 8EF3F5          EXTE2   LDX    #TEXT10   'BYTE'
1675  FD78 BDF967                  JSR    PSTRNG
1676  FD7B BDF8B7                  JSR    BYTE
1677  FD7E 29F5                    BVS    EXTE2
1678  FD80 B7E117                  STA    SLASK
1679                       *
1680  FD83 10BCE12F        EXTE10  CMPY   ENDA
1681  FD87 2601                    BNE    EXTE15
1682  FD89 39                      RTS
1683                       *
1684  FD8A 10BFE12D        EXTE15  STY    BEGA
1685  FD8E A1A0                    CMPA   0,Y+      MATCHAR ?
1686  FD90 2606                    BNE    EXTE20
1687                       *
1688                       * SKRIV NNNN OO PPPP
1689                       *
1690  FD92 BDFD01                  JSR    ADDRDA
1691  FD95 BDF919                  JSR    OUT4HS
1692  FD98 BDFD0F          EXTE20  JSR    BREAK
1693  FD9B B6E117                  LDA    SLASK
1694  FD9E 20E3                    BRA    EXTE10
1695                       *
1696                       * M[T RAMSTORLEK
1697                       *
1698  FDA0                 METRAM  EQU    *
1699  FDA0 8EF409                  LDX    #TEXT16   'RAM SLUT='
1700  FDA3 BDF969                  JSR    PDATA
1701  FDA6 8E0001                  LDX    #1
1702  FDA9 8655            MET10   LDA    #$55
1703  FDAB E684                    LDB    ,X
1704  FDAD A784                    STA    ,X
1705  FDAF A684                    LDA    ,X
1706  FDB1 E780                    STB    0,X+
1707  FDB3 8155                    CMPA   #$55
1708  FDB5 27F2                    BEQ    MET10
1709                       *
1710  FDB7 301E            MET80   LEAX   -2,X      BACKA
1711  FDB9 BFE12B                  STX    TEMP
1712  FDBC 8EE12B                  LDX    #TEMP     PRINTA SLUTADRESSEN
1713  FDBF 7EF919          OUT408  JMP    OUT4HS    "+RTS"
1714                       *
1715                       * S\K 2 BYTES
1716                       *
1717  FDC2 BDF904          SOK2B   JSR    BEGENT
1718  FDC5 8EF401          SOK2B2  LDX    #TEXT15   'ADRESS'
1719  FDC8 BDF967                  JSR    PSTRNG
1720  FDCB BDF8CC                  JSR    BADDR     FIXA 4 TECKEN I X-REG
1721  FDCE 29F5                    BVS    SOK2B2
1722  FDD0 BFE131                  STX    TILL
1723  FDD3 10BCE12F        SOK2B4  CMPY   ENDA      Y=BEGA
1724  FDD7 2601                    BNE    SOK25
1725  FDD9 39                      RTS
1726                       *
1727  FDDA 10BFE12D        SOK25   STY    BEGA
1728  FDDE BEE131                  LDX    TILL
1729  FDE1 ACA4                    CMPX   ,Y
1730  FDE3 260C                    BNE    SOK2B7
1731  FDE5 BDF95E                  JSR    PCRLF
1732  FDE8 8EE12D                  LDX    #BEGA     H[MTA ADRESSEN
1733  FDEB 8DD2                    BSR    OUT408
1734  FDED 1F21                    TFR    Y,X
1735  FDEF 8DCE                    BSR    OUT408    L[GG UT DATAT
1736  FDF1 BDFD0F          SOK2B7  JSR    BREAK
1737  FDF4 3121                    LEAY   1,Y
1738  FDF6 20DB                    BRA    SOK2B4
1739                       *
1740                       * RUTINER F\R PROMKORT C]-816
1741                       *
1742  FDF8 BDF886          PROM00  JSR    INCHA0
1743  FDFB 8148                    CMPA   #'H
1744  FDFD 273B                    BEQ    PROH00
1745  FDFF 8152                    CMPA   #'R
1746  FE01 271F                    BEQ    PROR00
1747  FE03 814C                    CMPA   #'L
1748  FE05 1026FA24                LBNE   CONTRL
1749                       *
1750  FE09 BDFCE2          PROL00  JSR    BEGEN3    START SLUT TILL
1751  FE0C BEE12D                  LDX    BEGA
1752  FE0F FEE131                  LDU    TILL
1753  FE12 BFE0B0          PROL10  STX    EPROM0
1754  FE15 3001                    LEAX   1,X
1755  FE17 B6E0B0                  LDA    EPROM0
1756  FE1A A7C0                    STA    0,U+
1757  FE1C BCE12F                  CMPX   ENDA
1758  FE1F 25F1                    BLO    PROL10
1759  FE21 39                      RTS
1760                       *
1761  FE22 BDF904          PROR00  JSR    BEGENT
1762  FE25 BEE12D          PROR20  LDX    BEGA
1763  FE28 BFE0B0          PROR30  STX    EPROM0
1764  FE2B 3001                    LEAX   1,X
1765  FE2D B6E0B0                  LDA    EPROM0
1766  FE30 BCE12F                  CMPX   ENDA
1767  FE33 25F3                    BLO    PROR30
1768  FE35 BDFD0F                  JSR    BREAK
1769  FE38 20EB                    BRA    PROR20
1770                       *
1771  FE3A BDF904          PROH00  JSR    BEGENT
1772  FE3D 4F                      CLRA
1773  FE3E 5F                      CLRB
1774  FE3F 10BFE0B0        PROH20  STY    EPROM0
1775  FE43 3121                    LEAY   1,Y
1776  FE45 FBE0B0                  ADDB   EPROM0
1777  FE48 8900                    ADCA   #0
1778  FE4A 10BCE12F                CMPY   ENDA
1779  FE4E 26EF                    BNE    PROH20
1780  FE50 7EFC29                  JMP    CKSM20
1781                       *
1782                       * MINIDISKBOOT
1783                       * Y= ADRESS TILL DISKBOOT $C000
1784                       * U= ADRESS TILL FDC-KONTROLLERN
1785                       *
1786  FE53 867E            BOOT0   LDA    #$7E      FIXA ]TERSTART
1787  FE55 108EC000                LDY    #$C000
1788  FE59 A7A4                    STA    ,Y
1789  FE5B 8EFE60                  LDX    #BOOT2
1790  FE5E AF21                    STX    1,Y
1791  FE60 CEE010          BOOT2   LDU    #FLOPPY
1792  FE63 C6D8                    LDB    #$D8      FORCE INTERRUPT
1793  FE65 E748                    STB    $8,U      COMREG
1794  FE67 4F                      CLRA
1795  FE68 8E0000                  LDX    #0
1796  FE6B A744            OVR     STA    $4,U      DRIVE #0 MOTOR ON
1797  FE6D 3001                    LEAX   1,X
1798  FE6F 26FA                    BNE    OVR
1799  FE71 C60F                    LDB    #$0F      RESTORE TO TRACK 00
1800  FE73 E748                    STB    $8,U      COMREG TURN MOTOR ON
1801  FE75 8D25                    BSR    BOTRTS
1802  FE77 E648            LOOP1   LDB    $8,U      COMREG
1803  FE79 C501                    BITB   #1        BUSY ?
1804  FE7B 26FA                    BNE    LOOP1
1805  FE7D 8601                    LDA    #1
1806  FE7F A74A                    STA    $A,U      SECREG
1807  FE81 8D19                    BSR    BOTRTS
1808  FE83 868C                    LDA    #$8C      READ W LOAD
1809  FE85 A748                    STA    $8,U      COMREG
1810  FE87 8D13                    BSR    BOTRTS
1811  FE89 E648                    LDB    $8,U      STATUSREG
1812  FE8B C502            LOOP2   BITB   #2        DRQ
1813  FE8D 2704                    BEQ    LOOP3
1814  FE8F A64B                    LDA    $B,U      DATREG
1815  FE91 A7A0                    STA    0,Y+
1816  FE93 E648            LOOP3   LDB    $8,U      STATUSREG
1817  FE95 C501                    BITB   #1        BUSY ?
1818  FE97 26F2                    BNE    LOOP2
1819  FE99 7EC000                  JMP    $C000
1820                       *
1821  FE9C 8D00            BOTRTS  BSR    BOOT49
1822  FE9E 8D00            BOOT49  BSR    BOOTRT
1823  FEA0 39              BOOTRT  RTS
1824                       *
1825  FEA1                 JMPFLX  EQU    *
1826  FEA1 8E7ECD                  LDX    #$7ECD
1827  FEA4 BCCD03                  CMPX   $CD03
1828  FEA7 2603                    BNE    JMPRTS
1829  FEA9 7ECD03                  JMP    $CD03
1830                       *
1831  FEAC 39              JMPRTS  RTS
1832                       *
1833  FEAD                 LDFLEX  EQU    *
1834  FEAD 8EC700                  LDX    #$C700
1835  FEB0 6F80            LDFL10  CLR    0,X+
1836  FEB2 8CCC00                  CMPX   #$CC00    KLART ?
1837  FEB5 26F9                    BNE    LDFL10
1838  FEB7 8E0C00                  LDX    #$0C00    START I EPROM
1839  FEBA CECC00                  LDU    #$CC00    START I RAM
1840  FEBD BFE0B0          FLY100  STX    EPROM0
1841  FEC0 3001                    LEAX   1,X
1842  FEC2 B6E0B0                  LDA    EPROM0
1843  FEC5 A7C0                    STA    0,U+
1844  FEC7 8C1FFF                  CMPX   #$1FFF
1845  FECA 26F1                    BNE    FLY100
1846  FECC 8E7ECD                  LDX    #$7ECD    KOLLA OM DET FINNS N]'T
1847  FECF BCCD00                  CMPX   $CD00
1848  FED2 26D8                    BNE    JMPRTS
1849  FED4 7ECD00                  JMP    $CD00
1850                       *
1851                       *
1852                       * MINNESTEST A LA SBUG
1853  FED7                 MEMTST  EQU    *
1854  FED7 BDF8F2                  JSR    BEGENS
1855  FEDA 29D0                    BVS    JMPRTS
1856  FEDC 6FE2                    CLR    0,-S
1857  FEDE 6FE2                    CLR    0,-S
1858  FEE0 3430                    PSHS   X,Y
1859  FEE2 AC62                    CMPX   2,S
1860  FEE4 2574                    BCS    LFA75
1861  FEE6 BDF91D                  JSR    OUTS
1862  FEE9 1F20            LFA01   TFR    Y,D
1863  FEEB E364                    ADDD   4,S
1864  FEED 3404                    PSHS   B
1865  FEEF ABE0                    ADDA   0,S+
1866  FEF1 A7A0                    STA    0,Y+
1867  FEF3 10ACE4                  CMPY   ,S
1868  FEF6 25F1                    BCS    LFA01
1869  FEF8 10AE62                  LDY    2,S
1870  FEFB 1F20            LFA13   TFR    Y,D
1871  FEFD E364                    ADDD   4,S
1872  FEFF 3402                    PSHS   A
1873  FF01 EBE0                    ADDB   0,S+
1874  FF03 E8A0                    EORB   0,Y+
1875  FF05 2739                    BEQ    LFA5B
1876  FF07 8EF414                  LDX    #TEXT17
1877  FF0A BDF967                  JSR    PSTRNG
1878  FF0D 303F                    LEAX   -1,Y
1879  FF0F BFE131                  STX    TILL      SPARA
1880  FF12 8EE131                  LDX    #TILL
1881  FF15 BDF919                  JSR    OUT4HS
1882  FF18 3410                    PSHS   X
1883  FF1A 8EF418                  LDX    #TEXT18
1884  FF1D BDF969                  JSR    PDATA
1885  FF20 3510                    PULS   X
1886  FF22 8EF41D                  LDX    #TEXT19
1887  FF25 BDF969                  JSR    PDATA
1888  FF28 AE64                    LDX    4,S
1889  FF2A BDFF5D                  JSR    OUTHW
1890  FF2D 8EF424                  LDX    #TEXT20
1891  FF30 BDF969                  JSR    PDATA
1892  FF33 1F98                    TFR    B,A
1893  FF35 8EF434                  LDX    #TEXT21
1894  FF38 BDF92F                  JSR    OUTCH
1895  FF3B BDF892                  JSR    INCHEK
1896  FF3E 261A                    BNE    LFA75
1897  FF40 10ACE4          LFA5B   CMPY   ,S
1898  FF43 25B6                    BCS    LFA13
1899  FF45 862B                    LDA    #$2B
1900  FF47 BDF92F                  JSR    OUTCH
1901  FF4A BDF892                  JSR    INCHEK
1902  FF4D 260B                    BNE    LFA75
1903  FF4F 10AE62                  LDY    2,S
1904  FF52 6C65                    INC    5,S
1905  FF54 2693                    BNE    LFA01
1906  FF56 6C64                    INC    4,S
1907  FF58 268F                    BNE    LFA01
1908  FF5A 3266            LFA75   LEAS   6,S
1909  FF5C 39                      RTS
1910                       *
1911  FF5D 3410            OUTHW   PSHS   X
1912  FF5F 3502                    PULS   A
1913  FF61 7EF913                  JMP    OUT2HU
1914                       *
1915                       *
1916                       * INTERRUPT VECTORS JUMP TABLE
1917                       *
1918  FF64 6E9FE101        SIRQVK  JMP    [SIRQR]
1919  FF68 6E9FE103        SWI1VK  JMP    [SWI1R]
1920  FF6C 6E9FE105        SWI2VK  JMP    [SWI2R]
1921  FF70 6E9FE107        SWI3VK  JMP    [SWI3R]
1922                       *
1923                       * KOMMANDOTABELL
1924                       *
1925  FF74 FEA1            KOMTAB  FDB    JMPFLX
1926  FF76 F903                    FDB    OUTRTS
1927  FF78 FB3E                    FDB    DISBKP    DISPLAY BREAKPOINTS
1928  FF7A FB5C                    FDB    CONTIN
1929  FF7C FC42                    FDB    DUMP16
1930  FF7E FD72                    FDB    EXTE
1931  FF80 FE53                    FDB    BOOT0
1932  FF82 FB54                    FDB    GOEXEC
1933  FF84 FC18                    FDB    CHKSM
1934  FF86 FB72                    FDB    CHUREG
1935  FF88 FBF0                    FDB    SUBR
1936  FF8A FCA3                    FDB    COPY
1937  FF8C FEAD                    FDB    LDFLEX    LOAD FLEX FROM PROMKORT
1938  FF8E F9B6                    FDB    CHANGE    MINNESMANIPULERING
1939  FF90 F903                    FDB    OUTRTS
1940  FF92 FD5A                    FDB    NOLLFF
1941  FF94 FDF8                    FDB    PROM00
1942  FF96 FDA0                    FDB    METRAM
1943  FF98 F979                    FDB    PRREG
1944  FF9A FDC2                    FDB    SOK2B
1945  FF9C F903                    FDB    OUTRTS
1946  FF9E FB03                    FDB    NOBRKP
1947  FFA0 FADD                    FDB    SETBR
1948  FFA2 FED7                    FDB    MEMTST
1949  FFA4 F903                    FDB    OUTRTS
1950  FFA6 FD2A                    FDB    VERIF
1951  FFA8 FC38                    FDB    DUMPRI
1952  FFAA F903                    FDB    OUTRTS
1953  FFAC F903                    FDB    OUTRTS
1954  FFAE F903                    FDB    OUTRTS
1955  FFB0 F903                    FDB    OUTRTS
1956  FFB2                 KOMTEN  EQU    *
1957                       *
1958                       * VEKTORER
1959                       *
1960                               ORG    F000+$FF0
1961  FFF0 0E              BAUDR   FCB    $0E       9600 BAUD
1962  FFF1 00              SERIE   FCB    $00       $FF=SERIEPORT
1963  FFF2 FF70                    FDB    SWI3VK
1964  FFF4 FF6C                    FDB    SWI2VK
1965  FFF6 FB71                    FDB    RETINT
1966  FFF8 FF64                    FDB    SIRQVK    SLOW IRQ
1967  FFFA FF68                    FDB    SWI1VK    SWI VEKTOR
1968  FFFC FA99                    FDB    SWISER
1969  FFFE F442                    FDB    KALST     RESTART VEKTOR KALL START
1970                       *
1971  F442                         END    KALST

0 error(s), 0 warning(s)
